window.__require=function e(t,o,n){function i(l,c){if(!o[l]){if(!t[l]){var r=l.split("/");if(r=r[r.length-1],!t[r]){var d="function"==typeof __require&&__require;if(!c&&d)return d(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+l+"'")}l=r}var s=o[l]={exports:{}};t[l][0].call(s.exports,function(e){return i(t[l][1][e]||e)},s,s.exports,e,t,o,n)}return o[l].exports}for(var a="function"==typeof __require&&__require,l=0;l<n.length;l++)i(n[l]);return i}({Additional:[function(e,t,o){"use strict";cc._RF.push(t,"83a22Nc4MJJGZn64soQyYR2","Additional");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return i(t,e),o=t,t.prototype.onLoad=function(){o.halfWidth=cc.winSize.width/2,o.halfHeight=cc.winSize.height/2;var e=function(t){t.worldPosition={get value(){var e=t.parent.convertToWorldSpaceAR(t.position);return cc.v2(e.x-o.halfWidth,e.y-o.halfHeight)},set value(e){t.position=t.parent.convertToNodeSpaceAR(cc.v2(e.x+o.halfWidth,e.y+o.halfHeight))},byNode:function(e){var n=t.parent.convertToWorldSpaceAR(e);return cc.v2(n.x-o.halfWidth,n.y-o.halfHeight)}},t.worldScale={get value(){for(var e=t,o=cc.v2(e.scaleX,e.scaleY);"Canvas"!=e.name;)e=e.parent,o=cc.v2(o.x*e.scaleX,o.y*e.scaleY);return o},set value(e){var o=t.parent.worldScale.value;t.setScale(e.x/o.x,e.y/o.y)}},t.worldAngle={get value(){for(var e=t,o=e.angle;"Canvas"!=e.name;)o+=(e=e.parent).angle;return o},set value(e){var o=t.parent.worldAngle.value;t.angle=e-o}},t.addChild=function(o){o.setParent(t),e(o)};for(var n=0;n<t.children.length;n++)e(t.children[n])};e(this.node),cc.randomRangeInt=function(e,t){return Math.floor(Math.random()*(t-e))+e},cc.randomRange=function(e,t){return Math.random()*(t-e)+e}},t.halfWidth=-1,t.halfHeight=-1,o=a([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],AvataFriend:[function(e,t,o){"use strict";cc._RF.push(t,"c9fdewor8BI0Y3KR6n3XxCM","AvataFriend");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../FbSkd/FbSdk"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.avata=null,t}return i(t,e),t.prototype.Init=function(e,t){var o=this;this.avata.node.parent.rotation=-this.node.rotation,this.id=e,cc.assetManager.loadRemote(t,function(e,t){o.avata.spriteFrame=new cc.SpriteFrame(t)})},t.prototype.Play=function(){l.default.sdk.PlayWithFriend(this.id)},a([d(cc.Sprite)],t.prototype,"avata",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../FbSkd/FbSdk":"FbSdk"}],Background:[function(e,t,o){"use strict";cc._RF.push(t,"047aasEG9tIrZvMi5qiyHgn","Background");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mathf"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=1,t.bg=new Array,t}var o;return i(t,e),o=t,t.prototype.start=function(){var e=o.bgSp1.findIndex(function(e){return null!=e}),t=o.bgSp2.findIndex(function(e){return null!=e});if(e>-1&&t>-1){var n=void 0;do{n=l.default.Random(1,9)}while(null==o.bgSp1[n]||null==o.bgSp2[n]);this.bg[0].spriteFrame=o.bgSp1[n],this.bg[1].spriteFrame=o.bgSp2[n]}if(o.bgSp1.findIndex(function(e){return null==e})>-1||o.bgSp2.findIndex(function(e){return null==e})>-1){var i;do{i=l.default.Random(1,9)}while(null!=o.bgSp1[i]&&null!=o.bgSp2[i]);null==o.bgSp1[i]&&cc.resources.load("Bg/bg_"+i+"_1",cc.SpriteFrame,function(e,t){o.bgSp1[i]=t}),null==o.bgSp2[i]&&cc.resources.load("Bg/bg_"+i+"_2",cc.SpriteFrame,function(e,t){o.bgSp2[i]=t})}},t.prototype.update=function(){for(var e=0;e<2;e++)this.bg[e].node.y=this.bg[e].node.y-this.speed,this.bg[e].node.y<=-2136&&(this.bg[e].node.y=0==e?this.bg[1].node.y+1440-this.speed:this.bg[0].node.y+1440-this.speed)},t.bgSp1=[null,null,null,null,null,null,null,null,null],t.bgSp2=[null,null,null,null,null,null,null,null,null],a([d],t.prototype,"speed",void 0),a([d(cc.Sprite)],t.prototype,"bg",void 0),o=a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../M/Mathf":"Mathf"}],Banner:[function(e,t,o){"use strict";cc._RF.push(t,"02a5c72FBxDtah/8Wsfq6sW","Banner");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../Scripts/FbSkd/FbSdk"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.idCurrent="2910453452608402",t.idSwitch="",t.dataDefault=[{name:"SpareWar",id:"2910453452608402",image:"https://i.imgur.com/DOpdteW.jpg"},{name:"BrainTest",id:"4352583048104225",image:"https://i.imgur.com/9HxqBnq.png"}],t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){var e=this;"IOS"==l.default.sdk.fbPlatform&&(this.node.active=!1),this.node.setContentSize(this.node.width,this.node.width/800*150);var t=function(){var t;do{t=cc.randomRangeInt(0,e.dataDefault.length)}while(o.data[t].id==e.idCurrent);e.idSwitch=o.data[t].id,cc.assetManager.loadRemote(o.data[t].image,function(t,o){e.spr.spriteFrame=new cc.SpriteFrame(o)})};if(null==o.data){var n=new XMLHttpRequest;n.addEventListener("load",function(){o.data=JSON.parse(n.responseText),t()}),n.addEventListener("error",function(){var o;do{o=cc.randomRangeInt(0,e.dataDefault.length)}while(e.dataDefault[o].id==e.idCurrent);e.idSwitch=e.dataDefault[o].id,cc.assetManager.loadRemote(e.dataDefault[o].image,function(t,o){e.spr.spriteFrame=new cc.SpriteFrame(o)}),t()}),n.open("GET","https://taapgamestudio.com/moregameInstant"),n.send()}else t()},t.prototype.Click=function(){l.default.sdk.SwitchGame(this.idSwitch)},a([d(cc.Sprite)],t.prototype,"spr",void 0),o=a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../Scripts/FbSkd/FbSdk":"FbSdk"}],Boss:[function(e,t,o){"use strict";cc._RF.push(t,"989e3iRkrNC6odCX2WvPQAQ","Boss");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../M/Mathf"),r=e("../H/Home"),d=e("../M/MngSound"),s=cc._decorator,u=s.ccclass,p=s.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=0,t.level=0,t.hp=500,t.hpTmp=500,t.isDie=!1,t.isHitLaser=!1,t.indexEnemy=[5,6,8],t}return i(t,e),t.prototype.onEnable=function(){var e=this;this.index=c.default.Random(0,5),this.unscheduleAllCallbacks(),this.hpFill.fillRange=1,this.isDie=!1,this.spr.spriteFrame=l.default.mng.data.spBoss[this.index],this.node.setPosition(0,830),this.unscheduleAllCallbacks(),this.node.stopAllActions();var t=cc.moveTo(2,new cc.Vec2(0,247));this.node.runAction(t),this.schedule(function(){var t=cc.moveTo(c.default.Random(2.00001,3),new cc.Vec2(c.default.Random(150-l.default.mng.logic.player.halfWidth,l.default.mng.logic.player.halfWidth-150),c.default.Random(200,l.default.mng.logic.player.halfHeight)));e.node.runAction(t)},c.default.Random(2.00001,4)),this.TurnRealBattle(c.default.Random(1.5,3)),this.Shoot()},t.prototype.Shoot=function(){this.level>-1&&(0==this.index?this.Shoot1():1==this.index?this.Shoot2():2==this.index?this.Shoot3():3==this.index?this.Shoot4():4==this.index?this.Shoot5():5==this.index&&this.Shoot6())},t.prototype.Shoot1=function(){var e=this;this.schedule(function(){if(l.default.mng.logic.player.node.x<=e.node.x+100&&l.default.mng.logic.player.node.x>=e.node.x-100){var t=c.default.Random(0,1e3);if(t<500)for(var o=0;o<Math.min(3+e.level,8);o++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),0).Init(0,7,6,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),0).Init(0,7,6,1)},.2*o);else if((t=c.default.Random(0,1e3))<500){t=c.default.Random(0,1e3);var n=function(o){e.scheduleOnce(function(){d.default.mng.PlaySound(20),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1)},.2*o)};for(o=0;o<Math.min(3+e.level,8);o++)n(o)}else for(t=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,5,400,1)}else{var i,a=c.default.Random(0,1e3);if(i=e.node.y>l.default.mng.logic.player.node.position.y?180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI:180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,a<500){a=c.default.Random(0,1e3);var r=function(t){e.scheduleOnce(function(){d.default.mng.PlaySound(20),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,5,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,5,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,5,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,5,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,5,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,5,400,1)},.2*t)};for(o=0;o<Math.min(3+e.level,8);o++)r(o)}else for(a=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,5,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,5,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,5,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,5,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,5,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,5,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,5,400,1)}},4-.1*this.level),this.scheduleOnce(function(){e.schedule(function(){if(c.default.Random(0,1e3)<500)for(var t=0;t<c.default.Random(2,Math.min(2+e.level,5));t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20);var t=new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,n=l.default.mng.pool.GetBulletEnemy(t,o);n.Init(1,6,400,1),t=new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,(n=l.default.mng.pool.GetBulletEnemy(t,o)).Init(1,6,400,1)},t*c.default.Random(.1,.5));else for(t=0;t<2;t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),0).Init(2,8,400,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),0).Init(2,8,400,1)},t*c.default.Random(.1,.5))},4-.1*e.level)},2)},t.prototype.Shoot2=function(){var e=this;this.schedule(function(){if(l.default.mng.logic.player.node.x<=e.node.x+100&&l.default.mng.logic.player.node.x>=e.node.x-100){var t=c.default.Random(0,1e3);if(t<500)for(var o=0;o<Math.min(3+e.level,8);o++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),0).Init(0,11,6,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),0).Init(0,11,6,1)},.2*o);else if((t=c.default.Random(0,1e3))<500){t=c.default.Random(0,1e3);var n=function(o){e.scheduleOnce(function(){d.default.mng.PlaySound(20),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1)},.2*o)};for(o=0;o<Math.min(3+e.level,8);o++)n(o)}else for(t=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,9,400,1)}else{var i,a=c.default.Random(0,1e3);if(i=e.node.y>l.default.mng.logic.player.node.position.y?180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI:180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,a<500){a=c.default.Random(0,1e3);var r=function(t){e.scheduleOnce(function(){d.default.mng.PlaySound(20),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,9,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,9,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,9,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,9,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,9,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,9,400,1)},.2*t)};for(o=0;o<Math.min(3+e.level,8);o++)r(o)}else for(a=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,9,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,9,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,9,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,9,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,9,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,9,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,9,400,1)}},4-.1*this.level),this.scheduleOnce(function(){e.schedule(function(){if(c.default.Random(0,1e3)<500)for(var t=0;t<c.default.Random(2,Math.min(2+e.level,5));t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20);var t=new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,n=l.default.mng.pool.GetBulletEnemy(t,o);n.Init(1,10,400,1),t=new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,(n=l.default.mng.pool.GetBulletEnemy(t,o)).Init(1,10,400,1)},t*c.default.Random(.1,.5));else for(t=0;t<2;t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),0).Init(2,12,400,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),0).Init(2,12,400,1)},t*c.default.Random(.1,.5))},4-.1*e.level)},2)},t.prototype.Shoot3=function(){var e=this;this.schedule(function(){if(l.default.mng.logic.player.node.x<=e.node.x+100&&l.default.mng.logic.player.node.x>=e.node.x-100){var t=c.default.Random(0,1e3);if(t<500)for(var o=0;o<Math.min(3+e.level,8);o++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),0).Init(0,15,6,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),0).Init(0,15,6,1)},.2*o);else if((t=c.default.Random(0,1e3))<500){t=c.default.Random(0,1e3);var n=function(o){e.scheduleOnce(function(){d.default.mng.PlaySound(20),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1)},.2*o)};for(o=0;o<Math.min(3+e.level,8);o++)n(o)}else for(t=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,13,400,1)}else{var i,a=c.default.Random(0,1e3);if(i=e.node.y>l.default.mng.logic.player.node.position.y?180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI:180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,a<500){a=c.default.Random(0,1e3);var r=function(t){e.scheduleOnce(function(){d.default.mng.PlaySound(20),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,13,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,13,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,13,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,13,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,13,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,13,400,1)},.2*t)};for(o=0;o<Math.min(3+e.level,8);o++)r(o)}else for(a=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,13,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,13,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,13,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,13,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,13,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,13,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,13,400,1)}},4-.1*this.level),this.scheduleOnce(function(){e.schedule(function(){if(c.default.Random(0,1e3)<500)for(var t=0;t<c.default.Random(2,Math.min(2+e.level,5));t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20);var t=new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,n=l.default.mng.pool.GetBulletEnemy(t,o);n.Init(1,14,400,1),t=new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,(n=l.default.mng.pool.GetBulletEnemy(t,o)).Init(1,14,400,1)},t*c.default.Random(.1,.5));else for(t=0;t<2;t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),0).Init(2,16,400,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),0).Init(2,16,400,1)},t*c.default.Random(.1,.5))},4-.1*e.level)},2)},t.prototype.Shoot4=function(){var e=this;this.schedule(function(){if(l.default.mng.logic.player.node.x<=e.node.x+100&&l.default.mng.logic.player.node.x>=e.node.x-100){var t=c.default.Random(0,1e3);if(t<500)for(var o=0;o<Math.min(3+e.level,8);o++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),0).Init(0,19,6,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),0).Init(0,19,6,1)},.2*o);else if((t=c.default.Random(0,1e3))<500){t=c.default.Random(0,1e3);var n=function(o){e.scheduleOnce(function(){d.default.mng.PlaySound(20),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1)},.2*o)};for(o=0;o<Math.min(3+e.level,8);o++)n(o)}else for(t=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,17,400,1)}else{var i,a=c.default.Random(0,1e3);if(i=e.node.y>l.default.mng.logic.player.node.position.y?180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI:180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,a<500){a=c.default.Random(0,1e3);var r=function(t){e.scheduleOnce(function(){d.default.mng.PlaySound(20),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,17,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,17,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,17,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,17,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,17,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,17,400,1)},.2*t)};for(o=0;o<Math.min(3+e.level,8);o++)r(o)}else for(a=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,17,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,17,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,17,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,17,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,17,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,17,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,17,400,1)}},4-.1*this.level),this.scheduleOnce(function(){e.schedule(function(){if(c.default.Random(0,1e3)<500)for(var t=0;t<c.default.Random(2,Math.min(2+e.level,5));t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20);var t=new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,n=l.default.mng.pool.GetBulletEnemy(t,o);n.Init(1,18,400,1),t=new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,(n=l.default.mng.pool.GetBulletEnemy(t,o)).Init(1,18,400,1)},t*c.default.Random(.1,.5));else for(t=0;t<2;t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),0).Init(2,20,400,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),0).Init(2,20,400,1)},t*c.default.Random(.1,.5))},4-.1*e.level)},2)},t.prototype.Shoot5=function(){var e=this;this.schedule(function(){if(l.default.mng.logic.player.node.x<=e.node.x+100&&l.default.mng.logic.player.node.x>=e.node.x-100){var t=c.default.Random(0,1e3);if(t<500)for(var o=0;o<Math.min(3+e.level,8);o++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),0).Init(0,23,6,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),0).Init(0,23,6,1)},.2*o);else if((t=c.default.Random(0,1e3))<500){t=c.default.Random(0,1e3);var n=function(o){e.scheduleOnce(function(){d.default.mng.PlaySound(20),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1)},.2*o)};for(o=0;o<Math.min(3+e.level,8);o++)n(o)}else for(t=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,21,400,1)}else{var i,a=c.default.Random(0,1e3);if(i=e.node.y>l.default.mng.logic.player.node.position.y?180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI:180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,a<500){a=c.default.Random(0,1e3);var r=function(t){e.scheduleOnce(function(){d.default.mng.PlaySound(20),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,21,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,21,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,21,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,21,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,21,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,21,400,1)},.2*t)};for(o=0;o<Math.min(3+e.level,8);o++)r(o)}else for(a=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,21,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,21,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,21,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,21,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,21,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,21,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,21,400,1)}},4-.1*this.level),this.scheduleOnce(function(){e.schedule(function(){if(c.default.Random(0,1e3)<500)for(var t=0;t<c.default.Random(2,Math.min(2+e.level,5));t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20);var t=new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,n=l.default.mng.pool.GetBulletEnemy(t,o);n.Init(1,22,400,1),t=new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,(n=l.default.mng.pool.GetBulletEnemy(t,o)).Init(1,22,400,1)},t*c.default.Random(.1,.5));else for(t=0;t<2;t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),0).Init(2,24,400,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),0).Init(2,24,400,1)},t*c.default.Random(.1,.5))},4-.1*e.level)},2)},t.prototype.Shoot6=function(){var e=this;this.schedule(function(){if(l.default.mng.logic.player.node.x<=e.node.x+100&&l.default.mng.logic.player.node.x>=e.node.x-100){var t=c.default.Random(0,1e3);if(t<500)for(var o=0;o<Math.min(3+e.level,8);o++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),0).Init(0,27,6,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),0).Init(0,27,6,1)},.2*o);else if((t=c.default.Random(0,1e3))<500){t=c.default.Random(0,1e3);var n=function(o){e.scheduleOnce(function(){d.default.mng.PlaySound(20),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1)},.2*o)};for(o=0;o<Math.min(3+e.level,8);o++)n(o)}else for(t=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1),t<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1):t<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1):t<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),-(5*o+180)).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),5*o+180).Init(1,25,400,1)}else{var i,a=c.default.Random(0,1e3);if(i=e.node.y>l.default.mng.logic.player.node.position.y?180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI:180*Math.atan((e.node.x-l.default.mng.logic.player.node.position.x)/(e.node.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,a<500){a=c.default.Random(0,1e3);var r=function(t){e.scheduleOnce(function(){d.default.mng.PlaySound(20),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,25,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,25,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*t+180).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,25,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,25,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,25,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*t+180)).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*t+180).Init(1,25,400,1)},.2*t)};for(o=0;o<Math.min(3+e.level,8);o++)r(o)}else for(a=c.default.Random(0,1e3),d.default.mng.PlaySound(20),o=0;o<Math.min(3+e.level,8);o++)a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,25,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,25,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+5*o+180).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,25,400,1),a<250?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,25,400,1):a<500?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,25,400,1):a<750?l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+-(5*o+180)).Init(1,25,400,1):l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-56.5,e.node.position.y-107.4),i+5*o+180).Init(1,25,400,1)}},4-.1*this.level),this.scheduleOnce(function(){e.schedule(function(){if(c.default.Random(0,1e3)<500)for(var t=0;t<c.default.Random(2,Math.min(2+e.level,5));t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20);var t=new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,n=l.default.mng.pool.GetBulletEnemy(t,o);n.Init(1,26,400,1),t=new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),o=180*Math.atan((t.x-l.default.mng.logic.player.node.position.x)/(t.y-l.default.mng.logic.player.node.position.y))/Math.PI+180,(n=l.default.mng.pool.GetBulletEnemy(t,o)).Init(1,26,400,1)},t*c.default.Random(.1,.5));else for(t=0;t<2;t++)e.scheduleOnce(function(){d.default.mng.PlaySound(20),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x+169.6,e.node.position.y-110),0).Init(2,28,400,1),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(e.node.position.x-169.6,e.node.position.y-110),0).Init(2,28,400,1)},t*c.default.Random(.1,.5))},4-.1*e.level)},2)},t.prototype.onCollisionEnter=function(e){var t=this;if("BulletPlayer"!=e.node.group||this.isDie){if("BulletPet"==e.node.group)if(0==e.tag){if(this.hp>0&&(this.hp-=1,l.default.mng.ui.SetScore(1),e.node.active=!1,this.hpFill.node.parent.active||(this.hpFill.node.parent.active=!0),this.hpFill.fillRange=this.hp/this.hpTmp,c.default.Random(0,100)<30&&l.default.mng.pool.GetExEnemy(e.node.parent.position).Play(),this.hp<=0)){for(d.default.mng.PlaySound(21),l.default.mng.ui.SetScore(500+c.default.Random(1,100)),n=c.default.Random(50+50*this.level,100+50*this.level),-1==this.level&&(n=200),i=0;i<n;i++)this.scheduleOnce(function(){l.default.mng.pool.GetGold(new cc.Vec2(t.node.x+c.default.Random(-50,50),t.node.y+c.default.Random(-50,50))).Init()},c.default.Random(0,2.000001));for(this.isDie=!0,this.scheduleOnce(function(){t.node.active=!1},.5),i=0;i<20;i++)this.scheduleOnce(function(){l.default.mng.pool.GetExEnemy(new cc.Vec2(t.node.x+c.default.Random(-50,50),t.node.y+c.default.Random(-50,50))).Play()},c.default.Random(0,2.000001));0==r.default.mode?l.default.mng.ui.Victory():1==r.default.mode&&l.default.mng.logic.GetWare()}}else 2!=e.tag||this.isHitLaser||(this.isHitLaser=!0,this.schedule(this.HitLaser,.1))}else{var o=l.default.mng.pool.bulletPlayers[l.default.mng.pool.bulletPlayers.findIndex(function(t){return t.node==e.node})];if(this.hp-=o.damage,l.default.mng.ui.SetScore(o.damage),e.node.active=!1,this.hpFill.node.parent.active||(this.hpFill.node.parent.active=!0),this.hpFill.fillRange=this.hp/this.hpTmp,1==r.default.mode&&c.default.Random(0,100)<10&&l.default.mng.logic.RandomItem(e.node.position),c.default.Random(0,100)<30&&(d.default.mng.PlaySound(3),l.default.mng.pool.GetExEnemy(e.node.position).Play()),this.hp<=0){d.default.mng.PlaySound(21),l.default.mng.ui.SetScore(500+c.default.Random(1,100));var n=c.default.Random(50+50*this.level,100+50*this.level);-1==this.level&&(n=200);for(var i=0;i<n;i++)this.scheduleOnce(function(){l.default.mng.pool.GetGold(new cc.Vec2(t.node.x+c.default.Random(-50,50),t.node.y+c.default.Random(-50,50))).Init()},c.default.Random(0,2.000001));this.isDie=!0,this.scheduleOnce(function(){t.node.active=!1},.5);for(i=0;i<20;i++)this.scheduleOnce(function(){l.default.mng.pool.GetExEnemy(new cc.Vec2(t.node.x+c.default.Random(-50,50),t.node.y+c.default.Random(-50,50))).Play()},c.default.Random(0,2.000001));0==r.default.mode?l.default.mng.ui.Victory():1==r.default.mode&&l.default.mng.logic.GetWare()}}},t.prototype.HitLaser=function(){var e=this;if(this.hp>0&&(this.hp-=.1,l.default.mng.ui.SetScore(.1),c.default.Random(0,100)<5&&l.default.mng.pool.GetExEnemy(new cc.Vec2(this.node.x+c.default.Random(-50,50),this.node.y+c.default.Random(-50,50))).Play(),this.hp<=0)){d.default.mng.PlaySound(21),l.default.mng.ui.SetScore(500+c.default.Random(1,100)),this.unscheduleAllCallbacks(),this.node.stopAllActions();var t=c.default.Random(50+50*this.level,100+50*this.level);-1==this.level&&(t=200);for(var o=0;o<t;o++)this.scheduleOnce(function(){l.default.mng.pool.GetGold(new cc.Vec2(e.node.x+c.default.Random(-50,50),e.node.y+c.default.Random(-50,50))).Init()},c.default.Random(0,2.000001));for(this.isDie=!0,this.scheduleOnce(function(){e.node.active=!1},.5),o=0;o<20;o++)this.scheduleOnce(function(){l.default.mng.pool.GetExEnemy(new cc.Vec2(e.node.x+c.default.Random(-50,50),e.node.y+c.default.Random(-50,50))).Play()},c.default.Random(0,2.000001));0==r.default.mode?l.default.mng.ui.Victory():1==r.default.mode&&l.default.mng.logic.GetWare()}},t.prototype.onCollisionExit=function(e){"BulletPet"==e.node.group&&2==e.tag&&this.isHitLaser&&(this.isHitLaser=!1,this.unschedule(this.HitLaser))},t.prototype.onDisable=function(){this.isHitLaser&&(this.isHitLaser=!1,this.unschedule(this.HitLaser),this.unscheduleAllCallbacks(),this.node.stopAllActions())},t.prototype.TurnRealBattle=function(e){var t=this;void 0===e&&(e=0),l.default.mng.logic.player.node.active&&this.scheduleOnce(function(){var e=t.indexEnemy[c.default.Random(0,2)];if(-1==t.level&&(e=8),5==e)for(var o=c.default.Random(1,2),n=0;n<o;n++)l.default.mng.pool.GetEnemy2().Init(e,new cc.Vec2(c.default.Random(-296,296),633+c.default.Random(0,50)));else if(6==e)for(o=c.default.Random(1,2),n=0;n<o;n++)l.default.mng.pool.GetEnemy2().Init(e,new cc.Vec2(c.default.Random(-296,296),633+c.default.Random(0,50)));else if(8==e){o=c.default.Random(1,4);var i,a=new Array;for(n=0;n<o;n++){do{i=c.default.Random(-4,4)}while(a.findIndex(function(e){return e==i})>=0);a[a.length]=i,l.default.mng.pool.GetLineRocket().Init(70*i)}}t.TurnRealBattle(c.default.Random(4.50000001,8))},e)},a([p(cc.Sprite)],t.prototype,"spr",void 0),a([p(cc.Sprite)],t.prototype,"hpFill",void 0),a([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../H/Home":"Home","../M/Mathf":"Mathf","../M/Mng":"Mng","../M/MngSound":"MngSound"}],BulletEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"cc535ohxhpDYZ/Y2Tx0HWg4","BulletEnemy");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=0,t}return i(t,e),t.prototype.Init=function(e,t,o,n){this.spr.spriteFrame=l.default.mng.data.spBulletEnemy[t],this.speed=2*o,this.damage=n,this.type=e,this.node.active=!0},t.prototype.update=function(e){if(0==this.type)this.node.setPosition(this.node.x,this.node.y-this.speed);else if(1==this.type){var t=-this.node.angle*Math.PI/180;this.node.setPosition(this.node.x+e*this.speed*Math.sin(t),this.node.y+e*this.speed*Math.cos(t))}else 2==this.type&&(t=-this.node.angle*Math.PI/180,this.node.setPosition(this.node.x+e*this.speed*Math.sin(t),this.node.y+e*this.speed*Math.cos(t)),this.node.position.y>l.default.mng.logic.player.node.position.y&&((t=180*-Math.atan((this.node.position.x-l.default.mng.logic.player.node.position.x)/(this.node.position.y-l.default.mng.logic.player.node.position.y))/Math.PI+180)<0?t+=360:t>360&&(t-=360),this.node.angle=cc.misc.lerp(this.node.angle,t,this.speed/200*.02)))},t.prototype.onCollisionExit=function(e){"Bottom"==e.node.group&&(this.node.active=!1)},a([d(cc.Sprite)],t.prototype,"spr",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../M/Mng":"Mng"}],BulletPet:[function(e,t,o){"use strict";cc._RF.push(t,"47c781DRKBEUYaHWO39xHc2","BulletPet");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mathf"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spr=new Array,t.col=new Array,t.speed=1,t}return i(t,e),t.prototype.Shoot=function(e,t){this.speed=t,this.node.name=e.toString();for(var o=0;o<2;o++)this.spr[o].node.x=32.2*(0==o?-1:1);for(this.node.angle=l.default.Random(0,360),o=0;o<2;o++)this.spr[o].node.active||(this.spr[o].node.active=!0);this.node.active=!0},t.prototype.update=function(){this.node.angle=this.node.angle+2,this.node.setPosition(this.node.x,this.node.y+this.speed)},t.prototype.onCollisionExit=function(e){"Top"==e.node.group&&(this.node.active=!1)},a([d(cc.Sprite)],t.prototype,"spr",void 0),a([d(cc.Collider)],t.prototype,"col",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../M/Mathf":"Mathf"}],BulletPlayer:[function(e,t,o){"use strict";cc._RF.push(t,"02005bXR0xA2LGR+PvJ8fvx","BulletPlayer");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../M/Mathf"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=1,t.damage=1,t.index=-1,t.isRocket=!1,t.dirRocket=1,t}return i(t,e),t.prototype.Shoot=function(e,t,o,n,i){void 0===i&&(i=!1),e!=this.index?(this.index=e,this.spr.spriteFrame=l.default.mng.data.spBulletPlayer[e],this.speed=o,this.damage=n,this.node.scale=t,this.isRocket=i):0!=e&&1!=e||(this.node.scale=t),i&&(this.dirRocket=c.default.Random(0,100)>50?1:-1),this.node.active=!0},t.prototype.update=function(e){if(this.isRocket){var t=-this.node.angle*Math.PI/180;this.node.setPosition(this.node.x+this.speed*Math.sin(t),this.node.y+this.speed*Math.cos(t)),this.target.active&&(t=this.MathfRotation()+360*this.dirRocket,this.node.angle=cc.misc.lerp(this.node.angle,t,.05))}else 0!=this.index&&1!=this.index||(this.node.scale=this.node.scale+.8*e),this.tmpRotation=-this.node.angle*Math.PI/180,this.node.setPosition(this.node.x+this.speed*Math.sin(this.tmpRotation),this.node.y+this.speed*Math.cos(this.tmpRotation))},t.prototype.onCollisionExit=function(e){"Top"!=e.node.group&&"Bottom"!=e.node.group||(this.node.active=!1)},t.prototype.onDisable=function(){null!=this.target&&(this.target=null)},t.prototype.MathfRotation=function(){if("Enemy"==this.target.name){if(this.target.position.x!=this.node.position.x&&this.target.position.y!=this.node.position.y)return this.target.y>this.node.y?this.target.x<this.node.x?180*-Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI:180*Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI:this.target.x>this.node.x?180*-Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI+180:180*Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI+180}else{var e=this.target.parent.convertToWorldSpaceAR(this.target.position),t=new cc.Vec2(e.x-l.default.mng.logic.player.halfWidth,e.y-l.default.mng.logic.player.halfHeight);if(t.x!=this.node.position.x&&t.y!=this.node.position.y)return t.y>this.node.y?t.x<this.node.x?180*-Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI:180*Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI:t.x>this.node.x?180*-Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI+180:180*Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI+180}},a([s(cc.Sprite)],t.prototype,"spr",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng"}],CollisionEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"eaad7hYDnRB/b3q9VVY5b1n","CollisionEnemy");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../E/Enemy2"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onCollisionEnter=function(e){this.parent.CollisionEnter(e)},t.prototype.onCollisionExit=function(e){this.parent.CollisionExit(e)},a([d(l.default)],t.prototype,"parent",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../E/Enemy2":"Enemy2"}],Effect:[function(e,t,o){"use strict";cc._RF.push(t,"6fd72UicYxMHrixyBySPQhi","Effect");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mathf"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeLife=0,t}return i(t,e),t.prototype.Play=function(){var e=this;this.node.angle=l.default.Random(0,360),this.node.active=!0,l.default.Random(0,100)<60?(this.anim.play("ExEnemy1"),this.timeLife=.88):(this.anim.play("ExEnemy2"),this.timeLife=1),this.scheduleOnce(function(){e.node.active=!1},this.timeLife)},t.prototype.PlaySmoke=function(){this.node.active=!0,this.par.resetSystem()},a([d],t.prototype,"timeLife",void 0),a([d(cc.Animation)],t.prototype,"anim",void 0),a([d(cc.ParticleSystem)],t.prototype,"par",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../M/Mathf":"Mathf"}],EleRank:[function(e,t,o){"use strict";cc._RF.push(t,"63777hqzPdFg4cBlRyLKSOp","EleRank");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=l.property,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Init=function(e,t,o,n,i){var a=this;this.rank.string=e,cc.assetManager.loadRemote(t,function(e,t){a.avata.spriteFrame=new cc.SpriteFrame(t)}),this.nickname.string=o,this.lv.string=n,this.score.string=i},a([r(cc.Label)],t.prototype,"rank",void 0),a([r(cc.Sprite)],t.prototype,"avata",void 0),a([r(cc.Label)],t.prototype,"nickname",void 0),a([r(cc.Label)],t.prototype,"lv",void 0),a([r(cc.Label)],t.prototype,"score",void 0),a([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],ElementLeader:[function(e,t,o){"use strict";cc._RF.push(t,"fc673LK9NxLL7dP7jrwm9Sv","ElementLeader");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rankSp=new Array,t}return i(t,e),t.prototype.Init=function(e,t,o,n){this.rank.string=e,t.length>10?this.nickName.string=t.substring(0,10)+"...":this.nickName.string=t,this.score.string=o;var i=this;cc.assetManager.loadRemote(n,function(e,t){i.avata.spriteFrame=new cc.SpriteFrame(t)}),Number(e)<2?(this.rankImg.node.active=!0,this.rankImg.spriteFrame=this.rankSp[Number(e)-1]):this.rankImg.node.active=!1,this.node.active=!0},a([r(cc.Label)],t.prototype,"rank",void 0),a([r(cc.Label)],t.prototype,"nickName",void 0),a([r(cc.Label)],t.prototype,"score",void 0),a([r(cc.Sprite)],t.prototype,"avata",void 0),a([r(cc.Sprite)],t.prototype,"rankImg",void 0),a([r(cc.SpriteFrame)],t.prototype,"rankSp",void 0),a([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],Enemy2:[function(e,t,o){"use strict";cc._RF.push(t,"b483eXuBp5OFbE19upr2PG2","Enemy2");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../M/Mathf"),r=e("../M/MngSound"),d=cc._decorator,s=d.ccclass,u=d.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.path=new Array,t.timeMove=3,t.dirMoveSin=1,t.speed=100,t.hp=100,t.index=0,t.hpTmp=100,t.isHitLaser=!1,t}return i(t,e),t.prototype.Init=function(e,t){var o=this;if(void 0===t&&(t=this.path[0]),this.isDie=!1,this.index=e,l.default.mng.logic.isAttackBoss?this.hpTmp=this.hp=3*l.default.mng.logic.boss.level:this.hpTmp=this.hp=l.default.mng.logic.hpEnemy+l.default.mng.logic.player.countBullet/2,this.speed=l.default.mng.logic.speed[e],l.default.mng.logic.isShoot[e]&&(this.timeAttack=l.default.mng.logic.timeAttack[e],3==e||7==e?this.Shoot1():4==e||8==e?this.Shoot2():5==e?this.Shoot3():6==e&&this.Shoot4()),this.node.setPosition(t),this.hpFill.node.parent.active&&(this.hpFill.node.parent.active=!1,this.hpFill.fillRange=1),0==this.index||1==this.index||2==this.index||3==this.index||4==this.index)this.spr.node.angle=0,this.node.angle=0,this.spr.node.setPosition(0,0),this.spr.node.active=!0,this.node.active=!0;else if(5==this.index||6==this.index)this.dir=c.default.Random(-1,1)>0?1:-1,this.spr.node.setPosition(c.default.Random(-120,120),c.default.Random(-120,120)),this.spr.node.active=!0,this.node.active=!0,this.schedule(function(){var e=cc.moveTo(c.default.Random(2,3),new cc.Vec2(c.default.Random(50-l.default.mng.logic.player.halfWidth,l.default.mng.logic.player.halfWidth-50),c.default.Random(100,l.default.mng.logic.player.halfHeight-200)));o.node.runAction(e)},c.default.Random(3,4));else if(7==this.index||8==this.index){this.node.angle=0,this.spr.node.angle=0,this.spr.node.setPosition(0,0),this.spr.node.active=!0,this.node.active=!0;var n=cc.catmullRomTo(this.timeMove,this.path);this.node.runAction(n),this.scheduleOnce(function(){l.default.mng.logic.countEnemy--,o.unscheduleAllCallbacks(),o.node.stopAllActions(),o.node.active=!1},this.timeMove)}this.spr.spriteFrame=l.default.mng.data.spEnemy2[e],this.anim.play().speed=c.default.Random(.5,1)},t.prototype.InitPath=function(e,t){this.path=new Array,this.path=e,this.timeMove=t},t.prototype.update=function(e){if(this.index<=3){var t=(this.node.angle+180)*Math.PI/180;this.node.setPosition(this.node.x+e*this.speed*Math.sin(t),this.node.y+e*this.speed*Math.cos(t))}else 4==this.index?this.node.setPosition(this.node.position.x+.02*this.speed*this.dirMoveSin,this.node.position.y+6*Math.sin(this.node.position.x*Math.PI/180)):5!=this.index&&6!=this.index||(this.node.angle=this.node.angle+.02*this.dir*this.speed,this.spr.node.angle=-this.node.angle)},t.prototype.Shoot1=function(){var e=this;this.scheduleOnce(function(){c.default.Random(0,100)<60&&(r.default.mng.PlaySound(c.default.Random(6,7)),l.default.mng.pool.GetBulletEnemy(e.node.position,0).Init(0,1,6,1)),e.schedule(function(){c.default.Random(0,100)<60&&(r.default.mng.PlaySound(c.default.Random(6,7)),l.default.mng.pool.GetBulletEnemy(e.node.position,0).Init(0,1,6,1))},e.timeAttack)},c.default.Random(.1,1))},t.prototype.Shoot2=function(){var e=this;this.scheduleOnce(function(){c.default.Random(0,100)<60&&(r.default.mng.PlaySound(c.default.Random(6,7)),l.default.mng.pool.GetBulletEnemy(e.node.position,0).Init(0,2,6,1)),e.schedule(function(){c.default.Random(0,100)<60&&(r.default.mng.PlaySound(c.default.Random(6,7)),l.default.mng.pool.GetBulletEnemy(e.node.position,0).Init(0,2,6,1))},e.timeAttack)},c.default.Random(.1,1))},t.prototype.Shoot3=function(){var e=this;this.scheduleOnce(function(){var t,o=e.node.convertToWorldSpaceAR(e.spr.node.position),n=new cc.Vec2(o.x-l.default.mng.logic.player.halfWidth,o.y-l.default.mng.logic.player.halfHeight);t=n.y>l.default.mng.logic.player.node.position.y?180*-Math.atan((n.x-l.default.mng.logic.player.node.position.x)/(n.y-l.default.mng.logic.player.node.position.y))/Math.PI+180:180*-Math.atan((o.x-l.default.mng.logic.player.node.position.x)/(o.y-l.default.mng.logic.player.node.position.y))/Math.PI,l.default.mng.pool.GetBulletEnemy(new cc.Vec2(o.x-l.default.mng.logic.player.halfWidth,o.y-l.default.mng.logic.player.halfHeight),t).Init(1,3,400,1),r.default.mng.PlaySound(c.default.Random(6,7)),e.scheduleOnce(function(){r.default.mng.PlaySound(c.default.Random(6,7)),o=e.node.convertToWorldSpaceAR(e.spr.node.position),t+=c.default.Random(-10,10),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(o.x-l.default.mng.logic.player.halfWidth,o.y-l.default.mng.logic.player.halfHeight),t).Init(1,3,400,1)},.2),e.schedule(function(){var t,o=e.node.convertToWorldSpaceAR(e.spr.node.position),n=new cc.Vec2(o.x-l.default.mng.logic.player.halfWidth,o.y-l.default.mng.logic.player.halfHeight);t=n.y>l.default.mng.logic.player.node.position.y?180*-Math.atan((n.x-l.default.mng.logic.player.node.position.x)/(n.y-l.default.mng.logic.player.node.position.y))/Math.PI+180:180*-Math.atan((o.x-l.default.mng.logic.player.node.position.x)/(o.y-l.default.mng.logic.player.node.position.y))/Math.PI,l.default.mng.pool.GetBulletEnemy(new cc.Vec2(o.x-l.default.mng.logic.player.halfWidth,o.y-l.default.mng.logic.player.halfHeight),t).Init(1,3,400,1),r.default.mng.PlaySound(c.default.Random(6,7)),e.scheduleOnce(function(){r.default.mng.PlaySound(c.default.Random(6,7)),o=e.node.convertToWorldSpaceAR(e.spr.node.position),t+=c.default.Random(-10,10),l.default.mng.pool.GetBulletEnemy(new cc.Vec2(o.x-l.default.mng.logic.player.halfWidth,o.y-l.default.mng.logic.player.halfHeight),t).Init(1,3,400,1)},.2)},e.timeAttack)},c.default.Random(.1,.5))},t.prototype.Shoot4=function(){var e=this;this.scheduleOnce(function(){var t=e.node.convertToWorldSpaceAR(e.spr.node.position);l.default.mng.pool.GetBulletEnemy(new cc.Vec2(t.x-l.default.mng.logic.player.halfWidth,t.y-l.default.mng.logic.player.halfHeight),180+c.default.Random(-10,10)).Init(2,4,400,.5),r.default.mng.PlaySound(c.default.Random(6,7)),e.schedule(function(){r.default.mng.PlaySound(c.default.Random(6,7));var t=e.node.convertToWorldSpaceAR(e.spr.node.position);l.default.mng.pool.GetBulletEnemy(new cc.Vec2(t.x-l.default.mng.logic.player.halfWidth,t.y-l.default.mng.logic.player.halfHeight),180+c.default.Random(-10,10)).Init(2,4,400,.5)},e.timeAttack)},c.default.Random(.1,.5))},t.prototype.CollisionEnter=function(e){if("BulletPlayer"==e.node.group){if(!this.isDie){var t=l.default.mng.pool.bulletPlayers[l.default.mng.pool.bulletPlayers.findIndex(function(t){return t.node==e.node})];this.hp-=t.damage,l.default.mng.ui.SetScore(t.damage),e.node.active=!1,this.hpFill.node.parent.active||(this.hpFill.node.parent.active=!0),this.hpFill.fillRange=this.hp/this.hpTmp,this.hp<=0&&(this.isDie=!0,l.default.mng.logic.countEnemy--,r.default.mng.PlaySound(3),l.default.mng.pool.GetExEnemy(e.node.position).Play(),l.default.mng.logic.RandomItem(e.node.position),this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.node.active=!1)}}else"BulletPet"==e.node.group?0==e.tag?this.hp>0&&(this.hp-=1,l.default.mng.ui.SetScore(1),this.hpFill.node.parent.active||(this.hpFill.node.parent.active=!0),this.hpFill.fillRange=this.hp/this.hpTmp,e.node.active=!1,this.hp<=0&&((t=l.default.mng.pool.GetExEnemy(this.node.position)).Play(),r.default.mng.PlaySound(3),this.unscheduleAllCallbacks(),this.node.stopAllActions(),l.default.mng.logic.RandomItem(this.node.position),l.default.mng.logic.countEnemy--,this.node.active=!1)):2!=e.tag||this.isHitLaser||(this.smoke=l.default.mng.pool.GetSmoke(this.node),this.smoke.node.setPosition(0,0),this.smoke.node.active=!0,this.smoke.resetSystem(),this.isHitLaser=!0,this.schedule(this.HitLaser,.1)):"Bottom"==e.node.group?(l.default.mng.logic.countEnemy--,this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.node.active=!1):"Left"!=e.node.group&&"Right"!=e.node.group||(4!=this.index||"Left2"!=e.node.name&&"Right2"!=e.node.name?7!=this.index&&8!=this.index||("Left"==e.node.group&&"Left"==e.node.name?(this.warningTmp=l.default.mng.pool.GetWarningEnemy(new cc.Vec2(-316+c.default.Random(0,20),this.node.y)),this.warningTmp.Init(this.node)):"Right"==e.node.group&&"Right"==e.node.name&&(this.warningTmp=l.default.mng.pool.GetWarningEnemy(new cc.Vec2(316-c.default.Random(0,20),this.node.y)),this.warningTmp.Init(this.node))):(l.default.mng.logic.countEnemy--,this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.node.active=!1))},t.prototype.HitLaser=function(){if(this.hp>0){var e=.1+l.default.mng.logic.player.petUpgrade/10;this.hp-=e,l.default.mng.ui.SetScore(e),this.hpFill.node.parent.active||(this.hpFill.node.parent.active=!0),this.hpFill.fillRange=this.hp/this.hpTmp,this.hp<=0&&(this.smoke.node.active=!1,l.default.mng.pool.GetExEnemy(this.node.position).Play(),r.default.mng.PlaySound(3),this.unscheduleAllCallbacks(),this.node.stopAllActions(),l.default.mng.logic.RandomItem(this.node.position),l.default.mng.logic.countEnemy--,this.node.active=!1)}},t.prototype.CollisionExit=function(e){"BulletPet"==e.node.group?2==e.tag&&this.isHitLaser&&(this.isHitLaser=!1,this.smoke.node.active=!1,this.unschedule(this.HitLaser)):("Left"==e.node.group&&"Left"==e.node.name||"Right"==e.node.group&&"Right"==e.node.name)&&null!=this.warningTmp&&(this.warningTmp.node.active=!1)},a([u(cc.Sprite)],t.prototype,"spr",void 0),a([u(cc.Sprite)],t.prototype,"hpFill",void 0),a([u(cc.Animation)],t.prototype,"anim",void 0),a([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng","../M/MngSound":"MngSound"}],Enemy:[function(e,t,o){"use strict";cc._RF.push(t,"856b6DJ/EtGeJ0QlyypvAUw","Enemy");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../M/Mathf"),r=e("../M/MngHero"),d=e("../P/PlayerPrefs"),s=e("../M/MngSound"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=0,t.hp=3,t.timeAttack=3,t.percentDrop=50,t.speedBullet=1,t.dirX=1,t.dirY=1,t.isRotation=!1,t.isHitLaser=!1,t}return i(t,e),t.prototype.Shoot=function(){s.default.mng.PlaySound(c.default.Random(6,7)),l.default.mng.pool.GetBulletEnemy(this.node.position,0).Init(0,0,this.speedBullet,1)},t.prototype.MoveBegin=function(e,t,o,n){var i=this;void 0===n&&(n=!1),this.node.active=!0,this.spr.spriteFrame=l.default.mng.data.spEnemy[this.index],this.anim.play().speed=c.default.Random(.5,1),this.isRotation=!0,this.isFire&&(this.isLoop?this.scheduleOnce(function(){i.schedule(i.Shoot,i.timeLoop)},this.delayStartFire):this.scheduleOnce(this.Shoot,this.delayStartFire)),n?(this.scheduleOnce(function(){var t=cc.catmullRomTo(o,e);i.node.runAction(t)},t),this.schedule(function(){i.scheduleOnce(function(){var t=cc.catmullRomTo(o,e);i.node.runAction(t)},t)},o+t)):this.scheduleOnce(function(){var t=cc.catmullRomTo(o,e);i.node.runAction(t),i.scheduleOnce(i.EndMove,o)},t)},t.prototype.EndMove=function(){this.isRotation=!1,this.posTmp=this.node.position,l.default.mng.logic.countEnemyTmp--,l.default.mng.logic.countEnemyTmp<=0&&this.scheduleOnce(function(){l.default.mng.logic.ChangeMoveEnemy()},1)},t.prototype.ChangeMove=function(e){var t=this;2==e?this.pointEnemy.x%2==0?this.dirX=-1:this.dirX=1:3==e?this.pointEnemy.y%2==0?this.dirX=-1:this.dirX=1:4==e?(this.dirX=1,this.dirY=1):5==e?this.pointEnemy.y%2==0?(this.dirX=-1,this.dirY=-1):(this.dirX=1,this.dirY=1):6==e?this.pointEnemy.x%2==0?(this.dirX=-1,this.dirY=1):(this.dirX=1,this.dirY=-1):7==e&&(this.pointEnemy.x%2==0&&this.pointEnemy.y%2==0?(this.dirX=-1,this.dirY=-1):(this.dirX=1,this.dirY=1)),this.Move(e),this.schedule(function(){t.Move(e)},3)},t.prototype.Move=function(e){1==e?this.Move1():2==e?this.Move2():3==e?this.Move3():4==e?this.Move4():5==e?this.Move5():6==e?this.Move6():7==e&&this.Move7()},t.prototype.Move1=function(){var e=cc.moveTo(3,new cc.Vec2(this.posTmp.x+25*this.dirX,this.posTmp.y));this.node.runAction(e),this.dirX*=-1},t.prototype.Move2=function(){var e=cc.moveTo(3,new cc.Vec2(this.posTmp.x+25*this.dirX,this.posTmp.y));this.node.runAction(e),this.dirX*=-1},t.prototype.Move3=function(){var e=cc.moveTo(3,new cc.Vec2(this.posTmp.x+50*this.dirX,this.posTmp.y));this.node.runAction(e),this.dirX*=-1},t.prototype.Move4=function(){var e=cc.moveTo(3,new cc.Vec2(this.posTmp.x+50*this.dirX,this.posTmp.y+50*this.dirY));this.node.runAction(e),1==this.dirX&&1==this.dirY?this.dirY*=-1:1==this.dirX&&-1==this.dirY?this.dirX*=-1:-1==this.dirX&&-1==this.dirY?this.dirY*=-1:-1==this.dirX&&1==this.dirY&&(this.dirX*=-1)},t.prototype.Move5=function(){var e=cc.moveTo(3,new cc.Vec2(this.posTmp.x+15*this.dirX,this.posTmp.y+15*this.dirY));this.node.runAction(e),1==this.dirX&&1==this.dirY?this.dirY*=-1:1==this.dirX&&-1==this.dirY?this.dirX*=-1:-1==this.dirX&&-1==this.dirY?this.dirY*=-1:-1==this.dirX&&1==this.dirY&&(this.dirX*=-1)},t.prototype.Move6=function(){var e=cc.moveTo(3,new cc.Vec2(this.posTmp.x+15*this.dirX,this.posTmp.y+15*this.dirY));this.node.runAction(e),1==this.dirX&&1==this.dirY?this.dirY*=-1:1==this.dirX&&-1==this.dirY?this.dirX*=-1:-1==this.dirX&&-1==this.dirY?this.dirY*=-1:-1==this.dirX&&1==this.dirY&&(this.dirX*=-1)},t.prototype.Move7=function(){var e=cc.moveTo(3,new cc.Vec2(this.posTmp.x+15*this.dirX,this.posTmp.y+15*this.dirY));this.node.runAction(e),1==this.dirX&&1==this.dirY?this.dirY*=-1:1==this.dirX&&-1==this.dirY?this.dirX*=-1:-1==this.dirX&&-1==this.dirY?this.dirY*=-1:-1==this.dirX&&1==this.dirY&&(this.dirX*=-1)},t.prototype.onCollisionEnter=function(e){if("BulletPlayer"==e.node.group){if(this.hp>0){var t=l.default.mng.pool.bulletPlayers.find(function(t){return t.node==e.node}).damage;this.hp-=t,l.default.mng.ui.SetScore(t),e.node.active=!1,this.hp<=0&&(l.default.mng.logic.countEnemy--,l.default.mng.pool.GetExEnemy(this.node.position).Play(),s.default.mng.PlaySound(3),this.isRotation&&l.default.mng.logic.countEnemyTmp--,this.unscheduleAllCallbacks(),this.node.stopAllActions(),l.default.mng.logic.RandomItem(this.node.position),l.default.mng.logic.countEnemy<=0&&l.default.mng.logic.GetWare(),l.default.mng.ui.enemyKill++,this.node.active=!1)}}else"BulletPet"==e.node.group&&(0==e.tag?this.hp>0&&(t=Number(e.node.name),this.hp-=t,l.default.mng.ui.SetScore(t),e.node.active=!1,this.hp<=0&&(l.default.mng.logic.countEnemy--,l.default.mng.pool.GetExEnemy(this.node.position).Play(),s.default.mng.PlaySound(3),this.isRotation&&l.default.mng.logic.countEnemyTmp--,this.unscheduleAllCallbacks(),this.node.stopAllActions(),l.default.mng.logic.RandomItem(this.node.position),l.default.mng.logic.countEnemy<=0&&l.default.mng.logic.GetWare(),l.default.mng.ui.enemyKill++,this.node.active=!1)):2!=e.tag||this.isHitLaser||(this.isHitLaser=!0,this.smoke=l.default.mng.pool.GetSmoke(this.node),this.smoke.node.setPosition(0,0),this.smoke.node.active=!0,this.smoke.resetSystem(),this.schedule(this.HitLaser,.1)));"Left"==e.node.group&&"Left"==e.node.name?this.isLoopPath&&(this.warningTmp=l.default.mng.pool.GetWarningEnemy(new cc.Vec2(-316+c.default.Random(0,20),this.node.y)),this.warningTmp.Init(this.node)):"Right"==e.node.group&&"Right"==e.node.name&&this.isLoopPath&&(this.warningTmp=l.default.mng.pool.GetWarningEnemy(new cc.Vec2(316-c.default.Random(0,20),this.node.y)),this.warningTmp.Init(this.node))},t.prototype.HitLaser=function(){if(this.hp>0){var e=.1*r.default.dataPet[3].power[d.default.GetNumber("LevelUpgradePet3")]+l.default.mng.logic.player.petUpgrade/10;this.hp-=e,l.default.mng.ui.SetScore(e),this.hp<=0&&(l.default.mng.logic.countEnemy--,l.default.mng.pool.GetExEnemy(this.node.position).Play(),this.smoke.node.active=!1,s.default.mng.PlaySound(3),this.isRotation&&l.default.mng.logic.countEnemyTmp--,this.unscheduleAllCallbacks(),this.node.stopAllActions(),l.default.mng.logic.RandomItem(this.node.position),l.default.mng.logic.countEnemy<=0&&l.default.mng.logic.GetWare(),l.default.mng.ui.enemyKill++,this.node.active=!1)}},t.prototype.onCollisionExit=function(e){"BulletPet"==e.node.group?2==e.tag&&this.isHitLaser&&(this.isHitLaser=!1,this.smoke.node.active=!1,this.unschedule(this.HitLaser)):("Left"==e.node.group&&"Left"==e.node.name||"Right"==e.node.group&&"Right"==e.node.name)&&this.isLoopPath&&null!=this.warningTmp&&(this.warningTmp.node.active=!1)},t.prototype.onDisable=function(){this.isHitLaser&&(this.isHitLaser=!1,this.smoke.node.active=!1,this.unschedule(this.HitLaser)),this.unscheduleAllCallbacks(),this.node.stopAllActions()},a([h(cc.Sprite)],t.prototype,"spr",void 0),a([h(cc.Animation)],t.prototype,"anim",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng","../M/MngHero":"MngHero","../M/MngSound":"MngSound","../P/PlayerPrefs":"PlayerPrefs"}],FbSdk:[function(e,t,o){"use strict";cc._RF.push(t,"d075cPZbVZB7KUkmSD0uAhn","FbSdk");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../G/GameNetwork"),c=e("../T/TAAPAnalytic"),r=cc._decorator,d=r.ccclass,s=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fbName="",t.fbId="",t.fbAvatar="",t.fbLocale="",t.fbPlatform="",t.fbSdkVersion="",t.base64="",t.interstitial=null,t.isPostLeaderboard=!0,t.isShowGameover=!0,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){if(null==o.sdk){if(cc.game.addPersistRootNode(this.node),this.FBInstant="undefined"!=typeof FBInstant?FBInstant:null,o.sdk=this,this.LoginGame(),this.scheduleOnce(this.SubscribeBot,10),this.scheduleOnce(this.CreateShortcutGame,5),null!=this.FBInstant){c.default.init({apiKey:"$2b$10$PfR7IIOJlZ7ttN7QsCICjeM/4cnZHIf9sb5KqD7xdNBEqHkhbv3qi",authDomain:"https://imess.top/services",projectId:"2910453452608402"});var e=this.FBInstant.getEntryPointData();null!=e&&null!=e.id&&e.id!=this.fbId&&(o.sdk.LogEvent("PlayByShare"),l.default.AddLeaderboard(e.id,{idFriend:this.fbId}))}}else o.sdk!=this&&this.node.destroy()},t.prototype.ShowInterstitial=function(e){if(void 0===e&&(e=null),null!=this.FBInstant){var t=this,o=null;null==t.interstitial?this.FBInstant.getInterstitialAdAsync("2910453452608402_2918059681847779").then(function(e){return t.interstitial=o=e,o.loadAsync()}).then(function(){return console.log("Interstitial preloaded"),o.showAsync()}).then(function(){null!=e&&e(),t.interstitial=null,console.log("Interstitial ad finished successfully")}).catch(function(e){console.error("Interstitial failed to preload: "+e.message)}):t.interstitial.showAsync().then(function(){null!=e&&e(),t.interstitial=null,console.log("Interstitial ad finished successfully")}).catch(function(e){console.error("Interstitial failed to preload: "+e.message)})}},t.prototype.ShowVideo=function(e,t){if(void 0===e&&(e=null),void 0===t&&(t=null),null!=this.FBInstant){var o=this,n=null;this.FBInstant.getRewardedVideoAsync("2910453452608402_2918059775181103").then(function(e){return(n=e).loadAsync()}).then(function(){return n.showAsync()}).then(function(){e(),o.isShowGameover=!1,o.unschedule(o.WaitShowAdsGameover),o.scheduleOnce(o.WaitShowAdsGameover,60),console.log("Rewarded video finished successfully")}).catch(function(){console.error("Rewarded video failed to preload: "+t.message),null!=t&&t()})}else t()},t.prototype.ShowAdsGameover=function(){this.isShowGameover&&this.ShowInterstitial()},t.prototype.WaitShowAdsGameover=function(){this.isShowGameover=!0},t.prototype.LoginGame=function(){null!=this.FBInstant&&(this.fbName=this.FBInstant.player.getName().toString(),this.fbId=this.FBInstant.player.getID().toString(),this.fbAvatar=this.FBInstant.player.getPhoto(),this.fbLocale=this.FBInstant.getLocale().toString(),this.fbPlatform=this.FBInstant.getPlatform().toString(),this.fbSdkVersion=this.FBInstant.getSDKVersion(),l.default.AddRanking(this.fbId,{name:this.fbName,avata:this.fbAvatar}))},t.prototype.CreateShortcutGame=function(){var e=this;null!=this.FBInstant&&this.FBInstant.canCreateShortcutAsync().then(function(t){t&&e.FBInstant.createShortcutAsync().then(function(){}).catch(function(){})})},t.prototype.Challenge=function(e){var t=this;void 0===e&&(e=null);var o=this;this.ChoosePlayer(function(){t.GetBase64ByUrl("https://i.imgur.com/6tq3p13.png",function(n){o.FBInstant.updateAsync({action:"CUSTOM",cta:"Fight",image:n,text:"This game is awesome. Let's beat this game",template:"Game",data:{id:t.fbId},strategy:"IMMEDIATE",notification:"PUSH"}).then(function(){null!=e&&e.apply()})})})},t.prototype.Share=function(e){var t=this;void 0===e&&(e=null),null!=this.FBInstant&&this.GetBase64ByUrl("https://i.imgur.com/6tq3p13.png",function(o){t.FBInstant.shareAsync({intent:"SHARE",image:o,text:"This game is awesome. Let's beat this game",data:{id:t.fbId}}).then(function(){console.log("Share   "),null!=e&&e.apply()})})},t.prototype.ChoosePlayer=function(e){void 0===e&&(e=null),null!=this.FBInstant&&this.FBInstant.context.chooseAsync({minSize:2}).then(function(){null!=e&&e.apply()})},t.prototype.AddLevel=function(e,t){var o=this;void 0===t&&(t=null),null!=this.FBInstant&&null!=this.FBInstant.context&&null!=this.FBInstant.context.getID()&&this.FBInstant.getLeaderboardAsync("Level."+this.FBInstant.context.getID()).then(function(t){return t.setScoreAsync(e,"")}).then(function(){console.log("Score saved"),o.FBInstant.updateAsync({action:"LEADERBOARD",name:"Level."+o.FBInstant.context.getID()}).then(function(){return console.log("Update Posted")}).catch(function(e){return console.error(e)}),null!=t&&t.apply()}).catch(function(e){return console.error(e)})},t.prototype.GetFriend=function(e){void 0===e&&(e=null),null!=this.FBInstant&&this.FBInstant.player.getConnectedPlayersAsync().then(function(t){e(t.map(function(e){return{id:e.getID(),avata:e.getPhoto()}}))})},t.prototype.PlayWithFriend=function(e,t){var o=this;if(void 0===t&&(t=null),null!=this.FBInstant){var n=this;this.FBInstant.context.createAsync(e).then(function(){o.GetBase64ByUrl("https://i.imgur.com/6tq3p13.png",function(e){n.FBInstant.updateAsync({action:"CUSTOM",cta:"Fight",image:e,text:"This game is awesome. Let's beat this game",template:"Game",data:{id:o.fbId},strategy:"IMMEDIATE",notification:"PUSH"}).then(function(){null!=t&&t.apply()})}),null!=t&&t().apply()})}},t.prototype.SwitchGame=function(e){var t=this;null!=this.FBInstant&&(this.LogEvent("SwitchgGame"),this.FBInstant.switchGameAsync(e).catch(function(){t.LogEvent("SwitchgGameSS")}))},t.prototype.LogEvent=function(e,t){void 0===t&&(t=null),null!=this.FBInstant&&(null!=t?c.default.analyticLog(e,t):c.default.analyticLog(e,1))},t.prototype.OnPause=function(){this.FBInstant},t.prototype.ToDataURL=function(e,t){var o=new XMLHttpRequest;o.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(o.response)},o.open("GET",e),o.responseType="blob",o.send()},t.prototype.GetBase64ByUrl=function(e,t){this.ToDataURL(e,function(e){t(e)})},t.prototype.SubscribeBot=function(){if(null!=this.FBInstant){var e=this;this.FBInstant.player.canSubscribeBotAsync().then(function(t){t&&e.FBInstant.player.subscribeBotAsync().then(function(){}).catch(function(){})})}},o=a([d],t)}(cc.Component));o.default=s,cc._RF.pop()},{"../G/GameNetwork":"GameNetwork","../T/TAAPAnalytic":"TAAPAnalytic"}],GameNetwork:[function(e,t,o){"use strict";cc._RF.push(t,"b0d5cExKHxFQaA4j/HVaZpv","GameNetwork");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.GetFriend=function(e,t){var o=new XMLHttpRequest;o.open("POST","https://taapgamestudio.com/spacewar/getfriend",!0),o.onreadystatechange=function(){o.readyState==XMLHttpRequest.DONE&&200==o.status&&t(JSON.parse(o.responseText))},o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify(e))},t.GetUser=function(e,t){var o="https://taapgamestudio.com/spacewar/getuser/"+e,n=new XMLHttpRequest;n.open("GET",o),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&200==n.status&&t(JSON.parse(n.responseText))},n.send()},t.AddLeaderboard=function(e,t){var o="https://taapgamestudio.com/spacewar/addleaderboard/"+e,n=new XMLHttpRequest;n.open("POST",o,!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(t))},t.GetInvite=function(e,t){var o="https://taapgamestudio.com/spacewar/getfriendsinvite/"+e,n=new XMLHttpRequest;n.open("GET",o),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&200==n.status&&t(JSON.parse(n.responseText))},n.send()},t.GetUserRemoveAds=function(e){var t=new XMLHttpRequest;t.open("GET","https://taapgamestudio.com/spacewar/getuserremoveads/"),t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&200==t.status&&e(JSON.parse(t.responseText))},t.send()},t.AddRanking=function(e,t,o){void 0===o&&(o=null);var n="https://taapgamestudio.com/spacewar/addranking/"+e,i=new XMLHttpRequest;i.open("POST",n,!0),i.setRequestHeader("Content-Type","application/json"),i.onreadystatechange=function(){i.readyState==XMLHttpRequest.DONE&&200==i.status&&null!=o&&o()},i.send(JSON.stringify(t))},t.GetRanking=function(e){var t=new XMLHttpRequest;t.open("GET","https://taapgamestudio.com/spacewar/getranking"),t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&200==t.status&&e(JSON.parse(t.responseText))},t.send()},t.GetUserRanking=function(e,t){var o="https://taapgamestudio.com/spacewar/getuserraking/"+e,n=new XMLHttpRequest;n.open("GET",o),n.onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&200==n.status&&t(JSON.parse(n.responseText))},n.send()},t.GetTimeRanking=function(e){var t=new XMLHttpRequest;t.open("GET","https://taapgamestudio.com/spacewar/gettimeranking"),t.onreadystatechange=function(){t.readyState==XMLHttpRequest.DONE&&200==t.status&&e(JSON.parse(t.responseText))},t.send()},a([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],Gift:[function(e,t,o){"use strict";cc._RF.push(t,"210ffOqW8xJObQzRdgBzfS9","Gift");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../FbSkd/FbSdk"),c=e("../M/Mng"),r=e("../M/MngLogic"),d=e("../P/PlayerPrefs"),s=e("./GameNetwork"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.data={noteNoAds:{en:"Invite <color=#fffd00>5</color> friends to get\n<color=#0AFF00>Remove ads</color>",vi:"M\u1eddi <color=#fffd00>5</color> ng\u01b0\u1eddi b\u1ea1n \u0111\u1ec3 nh\u1eadn\n<color=#0AFF00>B\u1ecf qu\u1ea3ng c\xe1o</color>",es:"Invita a <color=#fffd00>5</color> amigas a obtener\n<color=#0AFF00>Eliminar anuncios</color>",pt:"Convide <color=#fffd00>5</color> amigos para obter\n<color=#0AFF00>Remover an\xfancios</color>",fr:"Invitez <color=#fffd00>5</color> amis \xe0 obtenir\n<color=#0AFF00>Supprimer les annonces</color>",id:"Undang <color=#fffd00>5</color> teman untuk\nmendapatkan <color=#0AFF00>Hapus iklan</color>",th:"\u0e40\u0e0a\u0e34\u0e0d\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e19 <color=#fffd00>5</color> \u0e04\u0e19\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e23\u0e31\u0e1a\n<color=#0AFF00>\u0e25\u0e1a\u0e42\u0e06\u0e29\u0e13\u0e32</color>",tr:"<color=#0AFF00>Reklamlar\u0131 kald\u0131r</color> almak\ni\xe7in <color=#fffd00>5</color> arkada\u015f\u0131n\u0131z\u0131 davet edin",de:"Laden Sie <color=#fffd00>5</color> Freunde ein, um\n<color=#0AFF00>Werbung entfernen</color> zu erhalten"},callToAction:{en:" players had got <color=#0AFF00>Remove ads</color>\nAnd you?</outline>",vi:" ng\u01b0\u1eddi ch\u01a1i \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c\n<color=#0AFF00>B\u1ecf qu\u1ea3ng c\xe1o</color>. C\xf2n b\u1ea1n?</outline>",es:" jugadores obtuvieron\n<color=#0AFF00>Eliminar anuncios</color>. \xbfY t\xfa?</outline>",pt:" jogadores tinham\n<color=#0AFF00>Remover an\xfancios</color>. E voc\xea?</outline>",fr:" joueurs avaient obtenu\n<color=#0AFF00>Supprimer les publicit\xe9s</color>. Et vous?</outline>",id:" pemain telah mendapat <color=#0AFF00>Hapus iklan</color>\nDan Anda?</outline>",th:" \u0e04\u0e19\u0e44\u0e14\u0e49\u0e23\u0e31\u0e1a <color=#0AFF00>\u0e25\u0e1a\u0e42\u0e06\u0e29\u0e13\u0e32</color>\n\u0e41\u0e25\u0e49\u0e27\u0e04\u0e38\u0e13\u0e25\u0e48\u0e30</outline>",tr:" oyuncu <color=#0AFF00>Reklamlar\u0131 kald\u0131r</color> ald\u0131\nYa siz?</outline>",de:" Spieler hatten <color=#0AFF00>Werbung entfernen</color>\nbekommen Und du?</outline>"},noteItem:{en:"Only for the first time",vi:"Ch\u1ec9 l\u1ea7n \u0111\u1ea7u ti\xean",es:"Solo por primera vez",pt:"S\xf3 pela primeira vez",fr:"Seulement pour la premi\xe8re fois",id:"Baru pertama kali",th:"\u0e04\u0e23\u0e31\u0e49\u0e07\u0e41\u0e23\u0e01\u0e40\u0e17\u0e48\u0e32\u0e19\u0e31\u0e49\u0e19",tr:"Sadece ilk kez",de:"Nur zum ersten Mal"}},t}return i(t,e),t.prototype.onLoad=function(){this.node.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.onEnable=function(){var e=this,t=l.default.sdk.fbLocale.split("_")[0];null!=this.data.noteNoAds[t]?(this.noteNoAds.string=this.data.noteNoAds[t],s.default.GetUserRemoveAds(function(o){e.callToAction.string="th"==t?"<outline color=black width=2><color=#FF00F5>\u0e1c\u0e39\u0e49\u0e40\u0e25\u0e48\u0e19 "+(1034+o.count)+"</color>"+e.data.callToAction[t]:"<outline color=black width=2><color=#FF00F5>"+(1034+o.count)+"</color>"+e.data.callToAction[t]}),this.noteItem.string=this.data.noteItem[t],s.default.GetInvite(l.default.sdk.fbId,function(o){"en"==t?e.friendInvite.string="Complete <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"vi"==t?e.friendInvite.string="Ho\xe0n th\xe0nh <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"es"==t?e.friendInvite.string="Completa <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"pt"==t?e.friendInvite.string="Completa <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"fr"==t?e.friendInvite.string="Compl\xe9ter <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"id"==t?e.friendInvite.string="Lengkap <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"th"==t?e.friendInvite.string="\u0e40\u0e2a\u0e23\u0e47\u0e08\u0e2a\u0e21\u0e1a\u0e39\u0e23\u0e13\u0e4c <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"tr"==t?e.friendInvite.string="Tamamlay\u0131n\u0131z <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>":"de"==t&&(e.friendInvite.string="Komplett <color=#00FFFF><size=40>"+Math.floor(Math.min(o.invite,5)/5*1e4)/100+"%</size></color>"),d.default.SetNumber("CountInvite",o.invite),o.invite>=5&&(r.default.isNoAds=!0)})):(s.default.GetUserRemoveAds(function(t){e.callToAction.string="<outline color=black width=2><color=#FF00F5>"+(1034+t.count)+"</color>"+e.data.callToAction.en}),s.default.GetInvite(l.default.sdk.fbId,function(t){e.friendInvite.string="Complete <color=#00FFFF><size=40>"+Math.floor(Math.min(t.invite,5)/5*1e4)/100+"%</size></color>",d.default.SetNumber("CountInvite",t.invite),t.invite>=5&&(r.default.isNoAds=!0)})),d.default.GetBool("ShareBegin")&&(this.noteItem.node.active=!0,this.item.opacity=100)},t.prototype.Share=function(){var e=this;l.default.sdk.LogEvent("ShareClick"),l.default.sdk.Share(function(){if(l.default.sdk.LogEvent("ShareSuccess"),!d.default.GetBool("ShareBegin")){d.default.SetBool("ShareBegin",!0),e.noteItem.node.active=!0,e.item.opacity=100;for(var t=0;t<5;t++)d.default.SetBool("GiftItem"+t,!0),c.default.mng.ui.itemVideo[t].active=!1,c.default.mng.ui.itemCount[t].active=!0}})},t.prototype.PlayWithFriend=function(){var e=this;l.default.sdk.LogEvent("PlayWithFriendClick"),l.default.sdk.Challenge(function(){if(l.default.sdk.LogEvent("PlayWithFriendSuccess"),!d.default.GetBool("ShareBegin")){d.default.SetBool("ShareBegin",!0),e.noteItem.node.active=!0,e.item.opacity=100;for(var t=0;t<5;t++)d.default.SetBool("GiftItem"+t,!0),c.default.mng.ui.itemVideo[t].active=!1,c.default.mng.ui.itemCount[t].active=!0}})},t.prototype.Exit=function(){this.node.scale=0,this.node.active=!1},a([h(cc.RichText)],t.prototype,"noteNoAds",void 0),a([h(cc.RichText)],t.prototype,"callToAction",void 0),a([h(cc.Node)],t.prototype,"item",void 0),a([h(cc.Label)],t.prototype,"noteItem",void 0),a([h(cc.RichText)],t.prototype,"friendInvite",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../FbSkd/FbSdk":"FbSdk","../M/Mng":"Mng","../M/MngLogic":"MngLogic","../P/PlayerPrefs":"PlayerPrefs","./GameNetwork":"GameNetwork"}],Gold:[function(e,t,o){"use strict";cc._RF.push(t,"debc3gTyC9FRbVHYtaoqW++","Gold");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mathf"),c=e("../M/Mng"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=!1,t}return i(t,e),t.prototype.Init=function(){this.node.active=!0,this.anim.setAnimation(0,"animation",!0),this.rb.type=cc.RigidBodyType.Dynamic,this.rb.linearVelocity=new cc.Vec2(l.default.Random(-200,200),l.default.Random(0,400));var e=l.default.Random(.4,.6000000001);this.node.setScale(e,e),this.check=!1},t.prototype.update=function(e){this.check&&this.node.setPosition(cc.misc.lerp(this.node.x,c.default.mng.logic.player.node.x,2*e),cc.misc.lerp(this.node.y,c.default.mng.logic.player.node.y,5*e))},t.prototype.onCollisionEnter=function(e){"Bottom"==e.node.group?this.node.active=!1:"Magnet"==e.node.group&&(this.check||(this.check=!0,this.rb.type=cc.RigidBodyType.Static))},a([s(sp.Skeleton)],t.prototype,"anim",void 0),a([s(cc.RigidBody)],t.prototype,"rb",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng"}],Home:[function(e,t,o){"use strict";cc._RF.push(t,"1321d/oe6BOpKfzssgWIX72","Home");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../P/PlayerPrefs"),c=e("../M/MngSound"),r=e("../M/MngLogic"),d=e("../M/MngHero"),s=e("../E/ElementLeader"),u=e("../P/PleaseWait"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sound=new Array,t.music=new Array,t.buttonHome=new Array,t.tabHome=new Array,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){o.mng=this},t.prototype.start=function(){var e=this;l.default.GetBool("Sound",!0)?(this.sound[0].active=!0,this.sound[1].active=!1,c.default.checkSound=!0):(this.sound[0].active=!1,this.sound[1].active=!0,c.default.checkSound=!1),l.default.GetBool("Music",!0)?(this.music[0].active=!0,this.music[1].active=!1,c.default.mng.PlayMusic(0)):(this.music[0].active=!1,this.music[1].active=!0),this.coin.string=l.default.GetNumber("Gold").toString(),null==r.default.infoPath&&cc.resources.load("PathEnemy",function(e,t){r.default.infoPath=t.json}),null==d.default.data?cc.resources.load("Hero",function(t,o){d.default.data=o.json,null==d.default.dataPet?cc.resources.load("Pet",function(t,o){d.default.dataPet=o.json,e.CheckWarningHero()}):e.CheckWarningHero()}):null==d.default.dataPet?cc.resources.load("Pet",function(t,o){d.default.dataPet=o.json,e.CheckWarningHero()}):this.CheckWarningHero()},t.prototype.Sound=function(){c.default.checkSound?(this.sound[0].active=!1,this.sound[1].active=!0,c.default.checkSound=!1,l.default.SetBool("Sound",!1)):(this.sound[0].active=!0,this.sound[1].active=!1,c.default.checkSound=!0,c.default.mng.PlaySound(0),l.default.SetBool("Sound",!0))},t.prototype.Music=function(){this.music[0].active?(this.music[0].active=!1,this.music[1].active=!0,c.default.mng.PlaySound(0),cc.audioEngine.stop(c.default.musicState),c.default.musicState=null,l.default.SetBool("Music",!1)):(this.music[0].active=!0,this.music[1].active=!1,c.default.mng.PlaySound(0),l.default.SetBool("Music",!0),c.default.mng.PlayMusic(0))},t.prototype.Setting=function(){c.default.mng.PlaySound(0),this.isSetting?(this.isSetting=!1,this.animSetting.play("Hide")):(this.isSetting=!0,this.animSetting.play("Show"))},t.prototype.SelectLevel=function(){c.default.mng.PlaySound(0),this.buttonHome[1].enabled||(this.buttonHome[1].enabled=!0,this.buttonHome[0].enabled=!1,this.tabHome[0].active=!1)},t.prototype.SelectHero=function(){var e=this;c.default.mng.PlaySound(0),this.buttonHome[0].enabled||(this.buttonHome[0].enabled=!0,this.buttonHome[1].enabled=!1,null==this.tabHome[0]?u.default.ins.Preload("Prefabs/TabHomeHero",function(t,o){e.tabHome[0]=cc.instantiate(o),e.tabHome[0].setParent(e.tabHome[1].parent)}):this.tabHome[0].active=!0)},t.prototype.CheckWarningHero=function(){for(var e=!1,t=0;t<4;t++)0==t||l.default.GetBool("Unlock"+t)?l.default.GetNumber("Gold")>=d.default.data[t].priceUpgrade[l.default.GetNumber("LevelUpgrade"+t)]&&(e=!0):l.default.GetNumber("Gold")>=d.default.data[t].price&&(e=!0),l.default.GetBool("UnlockPet"+t)?l.default.GetNumber("Gold")>=d.default.dataPet[t].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+t)]&&(e=!0):l.default.GetNumber("Gold")>=d.default.dataPet[t].price&&(e=!0);e?(this.warning.node.active=!0,this.warning.play()):this.warning.node.active=!1},t.prototype.GetElement=function(e){var t=cc.instantiate(this.elementLeader);return e.addChild(t),t.getComponent(s.default)},t.mode=0,a([f(cc.Label)],t.prototype,"coin",void 0),a([f(cc.Animation)],t.prototype,"animSetting",void 0),a([f(cc.Node)],t.prototype,"sound",void 0),a([f(cc.Node)],t.prototype,"music",void 0),a([f(cc.Sprite)],t.prototype,"buttonHome",void 0),a([f(cc.Node)],t.prototype,"tabHome",void 0),a([f(cc.Animation)],t.prototype,"warning",void 0),a([f(cc.Prefab)],t.prototype,"elementLeader",void 0),a([f(cc.Label)],t.prototype,"timeText",void 0),o=a([h],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../E/ElementLeader":"ElementLeader","../M/MngHero":"MngHero","../M/MngLogic":"MngLogic","../M/MngSound":"MngSound","../P/PlayerPrefs":"PlayerPrefs","../P/PleaseWait":"PleaseWait"}],ItemChange:[function(e,t,o){"use strict";cc._RF.push(t,"30208GAe3dI+I+vu61GN1Cz","ItemChange");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../M/Mathf"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=!1,t}return i(t,e),t.prototype.Init=function(){do{this.index=c.default.Random(0,7)}while(this.index==l.default.mng.logic.player.index||this.index-4==l.default.mng.logic.player.pet[0].index||this.index-4==l.default.mng.logic.player.pet[1].index);this.col.tag=6+this.index,this.node.active=!0,this.anim.setAnimation(0,"animation",!0),this.icon.spriteFrame=l.default.mng.data.iconItemChange[this.index],this.icon.node.setContentSize(l.default.mng.data.sizeItemChange[this.index]),this.check=!1},t.prototype.update=function(e){this.node.y=this.node.position.y-300*e},t.prototype.onCollisionEnter=function(e){"Bottom"==e.node.group&&(this.node.active=!1)},a([s(sp.Skeleton)],t.prototype,"anim",void 0),a([s(cc.Sprite)],t.prototype,"icon",void 0),a([s(cc.Collider)],t.prototype,"col",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng"}],Item:[function(e,t,o){"use strict";cc._RF.push(t,"f55b8FcTsVN3oX7jOsjrD0m","Item");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=!1,t}return i(t,e),t.prototype.Init=function(e){this.col.tag=e,this.node.active=!0,this.anim.skeletonData=l.default.mng.data.atlasItem[e],this.anim.setAnimation(0,"animation",!0),this.check=!1},t.prototype.update=function(e){this.check?this.node.setPosition(cc.misc.lerp(this.node.x,l.default.mng.logic.player.node.x,2*e),cc.misc.lerp(this.node.y,l.default.mng.logic.player.node.y,5*e)):this.node.y=this.node.position.y-300*e},t.prototype.onCollisionEnter=function(e){"Bottom"==e.node.group?this.node.active=!1:"Magnet"==e.node.group&&(this.check||(this.check=!0))},a([d(sp.Skeleton)],t.prototype,"anim",void 0),a([d(cc.Collider)],t.prototype,"col",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../M/Mng":"Mng"}],LaserPet:[function(e,t,o){"use strict";cc._RF.push(t,"8609cReQvNEfJS42p/5mJOp","LaserPet");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=l.property,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onEnable=function(){var e=this;this.anim.play(),this.scheduleOnce(function(){e.node.active=!1},3)},a([r(cc.Animation)],t.prototype,"anim",void 0),a([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],LevelUI:[function(e,t,o){"use strict";cc._RF.push(t,"f35eaux3plOOaFkTHkD4yaJ","LevelUI");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/MngLogic"),c=e("./Loading"),r=e("../H/Home"),d=e("../M/MngSound"),s=e("../M/MngMap"),u=cc._decorator,p=u.ccclass,h=u.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spBg=[],t.index=1,t}return i(t,e),t.prototype.Init=function(e){this.index=e,this.text.string=(this.index+1).toString(),s.default.lvUnLock>=this.index?(this.isPlay=!0,s.default.lvUnLock>this.index?this.bg.spriteFrame=this.spBg[0]:this.bg.spriteFrame=this.spBg[2]):(this.isPlay=!1,this.bg.spriteFrame=this.spBg[1])},t.prototype.Play=function(){d.default.mng.PlaySound(1),this.isPlay&&(r.default.mode=0,l.default.indexLevel=this.index+1,c.default.Load("Gameplay"))},a([h(cc.Label)],t.prototype,"text",void 0),a([h(cc.Sprite)],t.prototype,"bg",void 0),a([h(cc.SpriteFrame)],t.prototype,"spBg",void 0),a([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"../H/Home":"Home","../M/MngLogic":"MngLogic","../M/MngMap":"MngMap","../M/MngSound":"MngSound","./Loading":"Loading"}],LineRocket:[function(e,t,o){"use strict";cc._RF.push(t,"268d5KEeNtPG7aYz/L53b3b","LineRocket");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Init=function(e){var t=this;this.node.setPosition(e,0),this.node.scaleX=720/cc.winSize.width,this.node.active=!0,this.anim.play(),this.scheduleOnce(function(){t.node.active=!1,l.default.mng.pool.GetRocket().Init(e)},1)},a([d(cc.Animation)],t.prototype,"anim",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../M/Mng":"Mng"}],Loading:[function(e,t,o){"use strict";cc._RF.push(t,"929ccm2U9dAPKlJ8I8AVthR","Loading");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=l.property,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return i(t,e),o=t,t.prototype.onLoad=function(){this.LoadSplash(o.nameScene)},t.prototype.LoadSplash=function(e){var t=this;o.sceneLoaded[o.sceneLoaded.length]=e,cc.director.preloadScene(e,function(e,o){var n=0;o>0&&(n=e/o),null!=t.bar&&(t.bar.fillRange=n,t.textLoading.string="Loading..."+Math.round(100*n)+"%")},function(t){t||cc.director.loadScene(e)})},t.Load=function(e){this.sceneLoaded.findIndex(function(t){return t==e})>=0?cc.director.loadScene(e):(o.nameScene=e,cc.director.loadScene("Loading"))},t.nameScene="Home",t.sceneLoaded=new Array,a([r(cc.Sprite)],t.prototype,"bar",void 0),a([r(cc.Label)],t.prototype,"textLoading",void 0),o=a([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],Lose:[function(e,t,o){"use strict";cc._RF.push(t,"efc9bUL1YpHz5wXzHXPsd3e","Lose");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../FbSkd/FbSdk"),c=e("../M/Mng"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.node.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.Map=function(){c.default.mng.ui.Map()},t.prototype.X2Gold=function(e,t){var o=this;c.default.mng.ui.X2Gold(e,t,function(){o.noAdsAvailable.scale=0,cc.tween(o.noAdsAvailable).to(.2,{scale:1}).start(),o.scheduleOnce(function(){o.noAdsAvailable.scale=0},5)})},t.prototype.Replay=function(){c.default.mng.ui.Replay()},t.prototype.NoAds=function(){l.default.sdk.LogEvent("NoAdsLose"),c.default.mng.ui.GiftReward(null,this.node.zIndex)},a([s(cc.Label)],t.prototype,"scoreGameover",void 0),a([s(cc.Label)],t.prototype,"goldGameover",void 0),a([s(cc.Node)],t.prototype,"noAdsAvailable",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../FbSkd/FbSdk":"FbSdk","../M/Mng":"Mng"}],Mathf:[function(e,t,o){"use strict";cc._RF.push(t,"0e086a6qm9MDprgnODSLIz4","Mathf");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.Random=function(e,t){return-1!=e.toString().lastIndexOf(".")||-1!=t.toString().lastIndexOf(".")?(e*=1e3,t*=1e3,(Math.floor(Math.random()*(t-e+1))+e)/1e3):Math.floor(Math.random()*(t-e+1))+e},t.Distance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},t.Int=function(e){return Number(e.toString().split(".")[0])},a([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],MngData:[function(e,t,o){"use strict";cc._RF.push(t,"0d20esS7axNzItwz6oTArsy","MngData");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spEnemy=new Array,t.spBulletPlayer=new Array,t.spBulletEnemy=new Array,t.atlasItem=new Array,t.pet=new Array,t.spEnemy2=new Array,t.spRocket=new Array,t.wing=new Array,t.spBoss=new Array,t.iconItemChange=new Array,t.sizeItemChange=new Array,t}return i(t,e),a([r(cc.SpriteFrame)],t.prototype,"spEnemy",void 0),a([r(cc.SpriteFrame)],t.prototype,"spBulletPlayer",void 0),a([r(cc.SpriteFrame)],t.prototype,"spBulletEnemy",void 0),a([r(sp.SkeletonData)],t.prototype,"atlasItem",void 0),a([r(cc.SpriteFrame)],t.prototype,"pet",void 0),a([r(cc.SpriteFrame)],t.prototype,"spEnemy2",void 0),a([r(cc.SpriteFrame)],t.prototype,"spRocket",void 0),a([r(sp.SkeletonData)],t.prototype,"wing",void 0),a([r(cc.SpriteFrame)],t.prototype,"spBoss",void 0),a([r(cc.SpriteFrame)],t.prototype,"iconItemChange",void 0),a([r(cc.Size)],t.prototype,"sizeItemChange",void 0),a([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],MngHero:[function(e,t,o){"use strict";cc._RF.push(t,"8d1a827BSlBkapIq0QxPgsa","MngHero");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../P/PlayerPrefs"),c=e("../H/Home"),r=e("./MngSound"),d=e("../FbSkd/FbSdk"),s=e("../T/TabHero"),u=e("../T/TabPet"),p=e("../P/PleaseWait"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spAvataHero=new Array,t.spAvataPet=new Array,t.spLeftRight=new Array,t.indexPlayer=-1,t.indexPet=-1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){var e=this;o.mng=this,null==o.data?cc.resources.load("Hero",function(t,n){o.data=n.json,e.CheckWarningHeroStart()}):this.CheckWarningHeroStart(),null==o.dataPet?cc.resources.load("Pet",function(t,n){o.dataPet=n,e.CheckWarningPetStart()}):this.CheckWarningPetStart(),this.node.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.onEnable=function(){cc.tween(this.node).to(1,{scale:cc.winSize.width/720},{easing:"elasticOut"}).start(),l.default.GetBool("TapTutorial")||this.tutorial.active||(this.tutorial.active=!0)},t.prototype.start=function(){var e=l.default.GetNumber("SelectPlayer");this.avataHero.spriteFrame=this.spAvataHero[e];var t=l.default.GetNumber("SelectPetLeft",-1),o=[];t>-1?(this.avataPetGrayLeft.active=!1,this.avataPetLeft.node.active=!0,this.avataPetLeft.spriteFrame=this.spAvataPet[t],this.avataPetLeft.node.setContentSize(1.22713130056005*this.spAvataPet[t].getTexture().width,1.22713130056005*this.spAvataPet[t].getTexture().height),this.avataPetLeft.node.x=1.22713130056005*o[t]):(this.avataPetGrayLeft.active=!0,this.avataPetLeft.node.active=!1);var n=l.default.GetNumber("SelectPetRight",-1);n>-1?(this.avataPetGrayRight.active=!1,this.avataPetRight.node.active=!0,this.avataPetRight.spriteFrame=this.spAvataPet[n],this.avataPetRight.node.setContentSize(1.22713130056005*this.spAvataPet[n].getTexture().width,1.22713130056005*this.spAvataPet[n].getTexture().height),this.avataPetRight.node.x=1.22713130056005*o[n].avata.node.x):(this.avataPetGrayRight.active=!0,this.avataPetRight.node.active=!1)},t.prototype.TabHero=function(){var e=this;r.default.mng.PlaySound(0),null==this.tabHero?p.default.ins.Preload("Prefabs/TabHero",function(t,o){var n=cc.instantiate(o);n.setParent(e.node.parent.parent),e.tabHero=n.getComponent(s.default),e.tabHero.node.active=!0,e.CheckWarningPlayer()}):(this.tabHero.node.active=!0,this.CheckWarningPlayer()),this.tutorial.active&&(this.tutorial.active=!1),l.default.GetBool("TapTutorial")||l.default.SetBool("TapTutorial",!0)},t.prototype.ShowPlayerUpgrade=function(e,t){void 0===t&&(t=!1),t&&(this.indexPlayer>=0&&(this.tabHero.playerUI[this.indexPlayer].select.active=!1),this.indexPlayer=e),this.tabHero.avataTabHero.spriteFrame=this.tabHero.playerUI[e].avata.spriteFrame,this.tabHero.avataTabHero.node.setContentSize(1.4*this.tabHero.playerUI[e].avata.node.getContentSize().width,1.4*this.tabHero.playerUI[e].avata.node.getContentSize().height),this.tabHero.avataTabHero.node.setPosition(1.4*this.tabHero.playerUI[e].avata.node.x,1.4*this.tabHero.playerUI[e].avata.node.y),this.tabHero.nickname.string=o.data[e].name,this.tabHero.levelUpgrade.string="Level <color=#fa0832>"+(l.default.GetNumber("LevelUpgrade"+e)+1)+"/"+o.data[e].hp.length+"</color>",this.tabHero.powerUpgrade.string=(100*o.data[e].power[l.default.GetNumber("LevelUpgrade"+e)]).toString().split(".")[0]+"->"+(100*o.data[e].power[l.default.GetNumber("LevelUpgrade"+e)+1]).toString().split(".")[0],this.tabHero.coinUpgrade.string=(100*o.data[e].coin[l.default.GetNumber("LevelUpgrade"+e)]).toString().split(".")[0]+"->"+(100*o.data[e].coin[l.default.GetNumber("LevelUpgrade"+e)+1]).toString().split(".")[0],this.tabHero.powerPetUpgrade.string=(100*o.data[e].pet[l.default.GetNumber("LevelUpgrade"+e)]).toString().split(".")[0]+"->"+(100*o.data[e].pet[l.default.GetNumber("LevelUpgrade"+e)+1]).toString().split(".")[0],this.tabHero.sppedBulletUpgrade.string=o.data[e].hp[l.default.GetNumber("LevelUpgrade"+e)]+"->"+o.data[e].hp[l.default.GetNumber("LevelUpgrade"+e)+1];for(var n=0;n<2;n++)this.tabHero.powerUpgradeFill[n].fillRange=o.data[e].power[l.default.GetNumber("LevelUpgrade"+e)+n]/o.data[e].power[o.data[e].power.length-1];for(n=0;n<2;n++)this.tabHero.coinUpgradeFill[n].fillRange=o.data[e].coin[l.default.GetNumber("LevelUpgrade"+e)+n]/o.data[e].coin[o.data[e].coin.length-1];for(n=0;n<2;n++)this.tabHero.powerPetUpgradeFill[n].fillRange=o.data[e].pet[l.default.GetNumber("LevelUpgrade"+e)+n]/o.data[e].pet[o.data[e].pet.length-1];for(n=0;n<2;n++)this.tabHero.speedBulletUpgradeFill[n].fillRange=o.data[e].hp[l.default.GetNumber("LevelUpgrade"+e)+n]/o.data[e].hp[o.data[e].hp.length-1];this.tabHero.priceUpgrade.string=o.data[e].priceUpgrade[l.default.GetNumber("LevelUpgrade"+e)].toString()},t.prototype.ShowPlayerUnlock=function(e,t){void 0===t&&(t=!1),t&&(this.indexPlayer>=0&&(this.tabHero.playerUI[this.indexPlayer].select.active=!1),this.indexPlayer=e),this.tabHero.avataTabHero.spriteFrame=this.tabHero.playerUI[e].avata.spriteFrame,this.tabHero.avataTabHero.node.setContentSize(1.4*this.tabHero.playerUI[e].avata.node.getContentSize().width,1.4*this.tabHero.playerUI[e].avata.node.getContentSize().height),this.tabHero.avataTabHero.node.setPosition(1.4*this.tabHero.playerUI[e].avata.node.x,1.4*this.tabHero.playerUI[e].avata.node.y),this.tabHero.nickname.string=o.data[e].name,this.tabHero.levelUpgrade.string="Level <color=#fa0832>"+(l.default.GetNumber("LevelUpgrade"+e)+1)+"/"+o.data[e].hp.length+"</color>",this.tabHero.powerUpgrade.string=(100*o.data[e].power[0]).toString().split(".")[0],this.tabHero.coinUpgrade.string=(100*o.data[e].coin[0]).toString().split(".")[0],this.tabHero.powerPetUpgrade.string=(100*o.data[e].pet[0]).toString().split(".")[0],this.tabHero.sppedBulletUpgrade.string=o.data[e].hp[0];for(var n=0;n<2;n++)this.tabHero.powerUpgradeFill[n].fillRange=o.data[e].power[0]/o.data[e].power[o.data[e].power.length-1];for(n=0;n<2;n++)this.tabHero.coinUpgradeFill[n].fillRange=o.data[e].coin[0]/o.data[e].coin[o.data[e].coin.length-1];for(n=0;n<2;n++)this.tabHero.powerPetUpgradeFill[n].fillRange=o.data[e].pet[0]/o.data[e].pet[o.data[e].pet.length-1];for(n=0;n<2;n++)this.tabHero.speedBulletUpgradeFill[n].fillRange=o.data[e].hp[0]/o.data[e].hp[o.data[e].hp.length-1];this.tabHero.priceUpgrade.string=o.data[e].price.toString()},t.prototype.Unlock=function(){r.default.mng.PlaySound(0),l.default.GetNumber("Gold")>=o.data[this.indexPlayer].price&&(l.default.SetNumber("Gold",l.default.GetNumber("Gold")-o.data[this.indexPlayer].price),c.default.mng.coin.string=l.default.GetNumber("Gold").toString(),l.default.SetBool("Unlock"+this.indexPlayer,!0),this.tabHero.buttonSelect.opacity=255,this.tabHero.buttonUpgrade.active=!0,this.tabHero.buttonUnlock.active=!1,this.ShowPlayerUpgrade(this.indexPlayer),this.tabHero.playerUI[this.indexPlayer].bg.color.fromHEX("#FFFFFF"),this.tabHero.playerUI[this.indexPlayer].avata.node.color.fromHEX("#FFFFFF"),this.CheckWarningPlayer(),this.CheckWarningPet(),c.default.mng.CheckWarningHero(),this.CheckWarningHeroStart(),this.CheckWarningPetStart())},t.prototype.Select=function(){r.default.mng.PlaySound(0),(0==this.indexPlayer||l.default.GetBool("Unlock"+this.indexPlayer))&&this.indexPlayer!=l.default.GetNumber("SelectPlayer")&&(this.tabHero.buttonSelect.opacity=150,this.tabHero.playerUI[l.default.GetNumber("SelectPlayer")].check.active=!1,this.tabHero.playerUI[this.indexPlayer].check.active=!0,l.default.SetNumber("SelectPlayer",this.indexPlayer))},t.prototype.Upgrade=function(){l.default.GetNumber("Gold")>=o.data[this.indexPlayer].priceUpgrade[l.default.GetNumber("LevelUpgrade"+this.indexPlayer)]?(r.default.mng.PlaySound(14),l.default.SetNumber("Gold",l.default.GetNumber("Gold")-o.data[this.indexPlayer].priceUpgrade[l.default.GetNumber("LevelUpgrade"+this.indexPlayer)]),c.default.mng.coin.string=l.default.GetNumber("Gold").toString(),l.default.SetNumber("LevelUpgrade"+this.indexPlayer,l.default.GetNumber("LevelUpgrade"+this.indexPlayer)+1),this.ShowPlayerUpgrade(this.indexPlayer),this.CheckWarningPlayer(),this.CheckWarningPet(),c.default.mng.CheckWarningHero(),this.CheckWarningHeroStart(),this.CheckWarningPetStart()):r.default.mng.PlaySound(0)},t.prototype.CheckWarningPlayer=function(){if(null!=this.tabHero)for(var e=0;e<4;e++)0==e||l.default.GetBool("Unlock"+e)?l.default.GetNumber("Gold")>=o.data[e].priceUpgrade[l.default.GetNumber("LevelUpgrade"+e)]?(this.tabHero.playerUI[e].warning.node.active=!0,this.tabHero.playerUI[e].warning.play()):this.tabHero.playerUI[e].warning.node.active=!1:l.default.GetNumber("Gold")>=o.data[e].price?(this.tabHero.playerUI[e].warning.node.active=!0,this.tabHero.playerUI[e].warning.play()):this.tabHero.playerUI[e].warning.node.active=!1},t.prototype.ExitTabHero=function(){r.default.mng.PlaySound(0),this.tabHero.ExitTabHero(),this.indexPlayer=-1;var e=l.default.GetNumber("SelectPlayer");this.avataHero.spriteFrame=this.tabHero.playerUI[e].avata.spriteFrame},t.prototype.GetGoldAds=function(e,t,o){var n=this;r.default.mng.PlaySound(0),d.default.sdk.ShowVideo(function(){l.default.SetNumber("Gold",l.default.GetNumber("Gold")+100),c.default.mng.coin.string=l.default.GetNumber("Gold").toString(),n.CheckWarningPlayer(),n.CheckWarningPet(),c.default.mng.CheckWarningHero(),n.CheckWarningHeroStart(),n.CheckWarningPetStart(),"1"==t?n.CheckActiceButtonPlayer():n.CheckActiceButtonPet()},o)},t.prototype.TabPet=function(e,t){var o=this;r.default.mng.PlaySound(0),this.isPetLeft="true"==t,null==this.tabPet?p.default.ins.Preload("Prefabs/TabPet",function(e,t){var n=cc.instantiate(t);n.setParent(o.node.parent.parent),o.tabPet=n.getComponent(u.default),o.tabPet.typePet.string=(o.isPetLeft?"LEFT":"RIGHT")+" PET",o.tabPet.node.active=!0,o.CheckWarningPet()}):(this.tabPet.typePet.string=(this.isPetLeft?"LEFT":"RIGHT")+" PET",this.tabPet.node.active=!0,this.CheckWarningPet()),this.tutorial.active&&(this.tutorial.active=!1),l.default.GetBool("TapTutorial")||l.default.SetBool("TapTutorial",!0)},t.prototype.ShowPetUpgrade=function(e,t){void 0===t&&(t=!1),t&&(this.indexPet>=0&&(this.tabPet.petUI[this.indexPet].select.active=!1),this.indexPet=e),this.tabPet.avataTabPet.spriteFrame=this.tabPet.petUI[e].avata.spriteFrame,this.tabPet.avataTabPet.node.setContentSize(1.4*this.tabPet.petUI[e].avata.node.getContentSize().width,1.4*this.tabPet.petUI[e].avata.node.getContentSize().height),this.tabPet.avataTabPet.node.setPosition(1.4*this.tabPet.petUI[e].avata.node.x,1.4*this.tabPet.petUI[e].avata.node.y),this.tabPet.nicknamePet.string=o.dataPet[e].name,this.tabPet.levelUpgradePet.string=l.default.GetNumber("LevelUpgradePet"+e)+1+"->"+(l.default.GetNumber("LevelUpgradePet"+e)+2),this.tabPet.powerUpgradePet.string=(100*o.dataPet[e].power[l.default.GetNumber("LevelUpgradePet"+e)]).toString().split(".")[0]+"->"+(100*o.dataPet[e].power[l.default.GetNumber("LevelUpgradePet"+e)+1]).toString().split(".")[0];for(var n=0;n<2;n++)this.tabPet.powerUpgradeFillPet[n].fillRange=o.dataPet[e].power[l.default.GetNumber("LevelUpgradePet"+e)+n]/o.dataPet[e].power[o.dataPet[e].power.length-1];for(n=0;n<2;n++)this.tabPet.levelUpgradeFillPet[n].fillRange=(l.default.GetNumber("LevelUpgradePet"+e)+n+1)/o.dataPet[e].power.length;this.tabPet.priceUpgradePet.string=o.dataPet[e].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+e)].toString()},t.prototype.ShowPetUnlock=function(e,t){void 0===t&&(t=!1),t&&(this.indexPet>=0&&(this.tabPet.petUI[this.indexPet].select.active=!1),this.indexPet=e),this.tabPet.avataTabPet.spriteFrame=this.tabPet.petUI[e].avata.spriteFrame,this.tabPet.avataTabPet.node.setContentSize(1.4*this.tabPet.petUI[e].avata.node.getContentSize().width,1.4*this.tabPet.petUI[e].avata.node.getContentSize().height),this.tabPet.avataTabPet.node.setPosition(1.4*this.tabPet.petUI[e].avata.node.x,1.4*this.tabPet.petUI[e].avata.node.y),this.tabPet.nicknamePet.string=o.dataPet[e].name,this.tabPet.levelUpgradePet.string=(l.default.GetNumber("LevelUpgradePet"+e)+1).toString(),this.tabPet.powerUpgradePet.string=(100*o.dataPet[e].power[0]).toString().split(".")[0];for(var n=0;n<2;n++)this.tabPet.powerUpgradeFillPet[n].fillRange=o.dataPet[e].power[0]/o.dataPet[e].power[o.dataPet[e].power.length-1];for(n=0;n<2;n++)this.tabPet.levelUpgradeFillPet[n].fillRange=1/o.dataPet[e].power.length;this.tabPet.priceUpgradePet.string=o.dataPet[e].price.toString()},t.prototype.UnlockPet=function(){r.default.mng.PlaySound(0),l.default.GetNumber("Gold")>=o.dataPet[this.indexPet].price&&(l.default.SetNumber("Gold",l.default.GetNumber("Gold")-o.dataPet[this.indexPet].price),c.default.mng.coin.string=l.default.GetNumber("Gold").toString(),l.default.SetBool("UnlockPet"+this.indexPet,!0),this.tabPet.buttonSelectPet.opacity=255,this.tabPet.buttonUpgradePet.active=!0,this.tabPet.buttonUnlockPet.active=!1,this.ShowPetUpgrade(this.indexPet),this.tabPet.petUI[this.indexPet].bg.color.fromHEX("#FFFFFF"),this.tabPet.petUI[this.indexPet].avata.node.color.fromHEX("#FFFFFF"),this.CheckWarningPlayer(),this.CheckWarningPet(),c.default.mng.CheckWarningHero(),this.CheckWarningHeroStart(),this.CheckWarningPetStart())},t.prototype.SelectPet=function(){r.default.mng.PlaySound(0),l.default.GetBool("UnlockPet"+this.indexPet)&&l.default.GetNumber("SelectPet"+(this.isPetLeft?"Left":"Right"),-1)!=this.indexPet&&(this.tabPet.buttonSelectPet.opacity=150,this.isPetLeft?(l.default.GetNumber("SelectPetRight",-1)==this.indexPet?l.default.GetNumber("SelectPetLeft",-1)>-1?this.tabPet.petUI[l.default.GetNumber("SelectPetLeft")].iconLeftRight.spriteFrame=this.spLeftRight[1]:l.default.SetNumber("SelectPetRight",-1):l.default.GetNumber("SelectPetLeft",-1)>-1&&(this.tabPet.petUI[l.default.GetNumber("SelectPetLeft")].iconLeftRight.node.active=!1),this.tabPet.petUI[this.indexPet].iconLeftRight.spriteFrame=this.spLeftRight[0],this.tabPet.petUI[this.indexPet].iconLeftRight.node.active=!0,l.default.SetNumber("SelectPetLeft",this.indexPet)):(l.default.GetNumber("SelectPetLeft",-1)==this.indexPet?l.default.GetNumber("SelectPetRight",-1)>-1?this.tabPet.petUI[l.default.GetNumber("SelectPetRight")].iconLeftRight.spriteFrame=this.spLeftRight[0]:l.default.SetNumber("SelectPetLeft",-1):l.default.GetNumber("SelectPetRight",-1)>-1&&(this.tabPet.petUI[l.default.GetNumber("SelectPetRight")].iconLeftRight.node.active=!1),this.tabPet.petUI[this.indexPet].iconLeftRight.spriteFrame=this.spLeftRight[1],this.tabPet.petUI[this.indexPet].iconLeftRight.node.active=!0,l.default.SetNumber("SelectPetRight",this.indexPet)))},t.prototype.UpgradePet=function(){l.default.GetNumber("Gold")>=o.dataPet[this.indexPet].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+this.indexPet)]?(r.default.mng.PlaySound(14),l.default.SetNumber("Gold",l.default.GetNumber("Gold")-o.dataPet[this.indexPet].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+this.indexPet)]),c.default.mng.coin.string=l.default.GetNumber("Gold").toString(),l.default.SetNumber("LevelUpgradePet"+this.indexPet,l.default.GetNumber("LevelUpgradePet"+this.indexPet)+1),this.ShowPetUpgrade(this.indexPet),this.CheckWarningPlayer(),this.CheckWarningPet(),c.default.mng.CheckWarningHero(),this.CheckWarningHeroStart(),this.CheckWarningPetStart()):r.default.mng.PlaySound(0)},t.prototype.CheckWarningPet=function(){if(null!=this.tabPet)for(var e=0;e<this.tabPet.petUI.length;e++)l.default.GetBool("UnlockPet"+e)?l.default.GetNumber("Gold")>=o.dataPet[e].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+e)]?(this.tabPet.petUI[e].warning.node.active=!0,this.tabPet.petUI[e].warning.play()):this.tabPet.petUI[e].warning.node.active=!1:l.default.GetNumber("Gold")>=o.dataPet[e].price?(this.tabPet.petUI[e].warning.node.active=!0,this.tabPet.petUI[e].warning.play()):this.tabPet.petUI[e].warning.node.active=!1},t.prototype.ExitTabPet=function(){r.default.mng.PlaySound(0),this.tabPet.node.active=!1,this.tabPet.petUI[this.indexPet].select.active=!1,this.indexPet=-1;var e=l.default.GetNumber("SelectPetLeft",-1);e>-1?(this.avataPetGrayLeft.active=!1,this.avataPetLeft.node.active=!0,this.avataPetLeft.spriteFrame=this.tabPet.petUI[e].avata.spriteFrame,this.avataPetLeft.node.setContentSize(1.22713130056005*this.tabPet.petUI[e].avata.node.getContentSize().width,1.22713130056005*this.tabPet.petUI[e].avata.node.getContentSize().height),this.avataPetLeft.node.x=1.22713130056005*this.tabPet.petUI[e].avata.node.x):(this.avataPetGrayLeft.active=!0,this.avataPetLeft.node.active=!1);var t=l.default.GetNumber("SelectPetRight",-1);t>-1?(this.avataPetGrayRight.active=!1,this.avataPetRight.node.active=!0,this.avataPetRight.spriteFrame=this.tabPet.petUI[t].avata.spriteFrame,this.avataPetRight.node.setContentSize(1.22713130056005*this.tabPet.petUI[t].avata.node.getContentSize().width,1.22713130056005*this.tabPet.petUI[t].avata.node.getContentSize().height),this.avataPetRight.node.x=1.22713130056005*this.tabPet.petUI[t].avata.node.x):(this.avataPetGrayRight.active=!0,this.avataPetRight.node.active=!1)},t.prototype.CheckWarningHeroStart=function(){for(var e=!1,t=0;t<4;t++)0==t||l.default.GetBool("Unlock"+t)?l.default.GetNumber("Gold")>=o.data[t].priceUpgrade[l.default.GetNumber("LevelUpgrade"+t)]&&(this.warningHero.node.active=!0,this.warningHero.play(),e=!0):l.default.GetNumber("Gold")>=o.data[t].price&&(this.warningHero.node.active=!0,this.warningHero.play(),e=!0);e||(this.warningHero.node.active=!1)},t.prototype.CheckWarningPetStart=function(){for(var e=!1,t=0;t<4;t++)l.default.GetBool("UnlockPet"+t)?l.default.GetNumber("Gold")>=o.dataPet[t].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+t)]&&(this.warningPetLeft.node.active=!0,this.warningPetLeft.play(),this.warningPetRight.node.active=!0,this.warningPetRight.play(),e=!0):l.default.GetNumber("Gold")>=o.dataPet[t].price&&(this.warningPetLeft.node.active=!0,this.warningPetLeft.play(),this.warningPetRight.node.active=!0,this.warningPetRight.play(),e=!0);e||(this.warningPetLeft.node.active=!1,this.warningPetRight.node.active=!1)},t.prototype.CheckActiceButtonPlayer=function(){0==this.indexPlayer||l.default.GetBool("Unlock"+this.indexPlayer)?l.default.GetNumber("Gold")>=o.data[this.indexPlayer].priceUpgrade[l.default.GetNumber("LevelUpgrade"+this.indexPlayer)]?this.tabHero.buttonUpgrade.opacity=255:this.tabHero.buttonUpgrade.opacity=150:l.default.GetNumber("Gold")>=o.data[this.indexPlayer].price?this.tabHero.buttonUnlock.opacity=255:this.tabHero.buttonUnlock.opacity=150},t.prototype.CheckActiceButtonPet=function(){l.default.GetBool("UnlockPet"+this.indexPet)?l.default.GetNumber("Gold")>=o.dataPet[this.indexPet].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+this.indexPet)]?this.tabPet.buttonUpgradePet.opacity=255:this.tabPet.buttonUpgradePet.opacity=150:l.default.GetNumber("Gold")>=o.dataPet[this.indexPet].price?this.tabPet.buttonUnlockPet.opacity=255:this.tabPet.buttonUnlockPet.opacity=150},a([y(cc.Sprite)],t.prototype,"avataHero",void 0),a([y(cc.Sprite)],t.prototype,"avataPetLeft",void 0),a([y(cc.Sprite)],t.prototype,"avataPetRight",void 0),a([y(cc.Node)],t.prototype,"avataPetGrayLeft",void 0),a([y(cc.Node)],t.prototype,"avataPetGrayRight",void 0),a([y(cc.Animation)],t.prototype,"warningHero",void 0),a([y(cc.Animation)],t.prototype,"warningPetLeft",void 0),a([y(cc.Animation)],t.prototype,"warningPetRight",void 0),a([y(cc.Node)],t.prototype,"tutorial",void 0),a([y(cc.SpriteFrame)],t.prototype,"spAvataHero",void 0),a([y(cc.SpriteFrame)],t.prototype,"spAvataPet",void 0),a([y(cc.SpriteFrame)],t.prototype,"spLeftRight",void 0),o=a([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../FbSkd/FbSdk":"FbSdk","../H/Home":"Home","../P/PlayerPrefs":"PlayerPrefs","../P/PleaseWait":"PleaseWait","../T/TabHero":"TabHero","../T/TabPet":"TabPet","./MngSound":"MngSound"}],MngLogic:[function(e,t,o){"use strict";cc._RF.push(t,"b9971H1B3FFLqWsKZLhNvOR","MngLogic");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("./Mng"),c=e("./Mathf"),r=e("../P/Player"),d=e("../B/Boss"),s=e("../H/Home"),u=e("./MngSound"),p=e("../FbSkd/FbSdk"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.countEnemyTmp=0,t.countEnemy=0,t.indexWare=1,t.isRealBattle=!1,t.isAttackBoss=!1,t.countWare=[3,6,7,8,10,10,10,10,10,10,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,10,10,10,9,10,10,10,10,10,10,10,10,10,10,10,10,10],t.isShoot=[!1,!1,!1,!0,!0,!0,!0,!0,!0],t.timeAttack=[-1,-1,-1,3,3,3,3,3,3],t.speed=[120,120,120,120,120,100,100],t.isZen=!0,t.listEnemy=new Array,t.orderX=new Array,t.orderY=new Array,t.pointEnemyNew=[new cc.Vec2(0,-93),new cc.Vec2(0,0),new cc.Vec2(0,93),new cc.Vec2(124,93),new cc.Vec2(-124,93),new cc.Vec2(70,0),new cc.Vec2(-70,0)],t.isEndGame=!1,t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){this.uiAll.scale=this.objAll.scale=cc.winSize.width/720},t.prototype.start=function(){cc.director.resume(),p.default.sdk.LogEvent("UserLevel"+o.indexLevel),this.Ware()},t.prototype.Ware=function(){var e=this;0==s.default.mode||2==s.default.mode?this.indexWare<=this.countWare[o.indexLevel-1]||2==s.default.mode?(0==s.default.mode?l.default.mng.ui.textWare.string="WAVE "+this.indexWare+"/"+this.countWare[o.indexLevel-1]:l.default.mng.ui.textWare.string="WAVE "+o.indexLevel,l.default.mng.ui.textWare.node.active=!0,l.default.mng.ui.textWareAnim.play(),2==s.default.mode&&(o.indexLevel%4==0?this.indexWare=c.default.Random(this.countWare[o.indexLevel-1]-3,this.countWare[o.indexLevel-1]-1):this.indexWare=c.default.Random(this.countWare[o.indexLevel-1]-2,this.countWare[o.indexLevel-1])),this.scheduleOnce(function(){l.default.mng.ui.textWare.node.active=!1;var t=null,n=null,i=function(t,n){if(t.length>0&&n.length>0){e.isRealBattle=!1;var i=JSON.parse(t),a=JSON.parse(n);e.countEnemyTmp=e.countEnemy=i.length,e.timeChangeMove=0,e.orderX=new Array,e.orderY=new Array,e.listEnemy=new Array;for(var r=function(t){for(var o=new Array,n=0;n<i[t].path.length;n++)o[n]=new cc.Vec2(100*i[t].path[n].x,100*i[t].path[n].y);var c=l.default.mng.pool.GetEnemy(o[0]);c.hp=a[t].Hp,c.hp>e.hpEnemy&&(e.hpEnemy=c.hp),c.index=a[t].typeEnemy,c.point=a[t].point,c.speedBullet=a[t].speedBullet,c.isDrop=a[t].isDrop,c.isLoop=a[t].isLoop,c.isFire=a[t].isFire,c.timeLoop=a[t].timeLoop,c.delayStartFire=a[t].delayStartFire,c.speedBullet=a[t].speedBullet,c.isDrop&&(c.percentDrop=a[t].percentDrop),e.timeChangeMove<i[t].delayTimeStart+i[t].durationMove&&(e.timeChangeMove=i[t].delayTimeStart+i[t].durationMove),i[t].loopPath?(c.isLoopPath=!0,c.MoveBegin(o,i[t].delayTimeStart,i[t].durationMove,!0)):(-1==e.orderX.findIndex(function(e){return e.x<=o[o.length-1].x+5&&e.x>=o[o.length-1].x-5})&&(e.orderX[e.orderX.length]=o[o.length-1]),-1==e.orderY.findIndex(function(e){return e.y<=o[o.length-1].y+5&&e.y>=o[o.length-1].y-5})&&(e.orderY[e.orderY.length]=o[o.length-1]),c.pointEnd=o[o.length-1],c.isLoopPath=!1,c.MoveBegin(o,i[t].delayTimeStart,i[t].durationMove)),e.listEnemy[t]=c},d=0;d<i.length;d++)r(d);if(e.orderX.length>0){var p=void 0;for(d=0;d<e.orderX.length-2;d++)for(var h=e.orderX.length-1;h>d;h--)e.orderX[h].x<e.orderX[h-1].x&&(p=e.orderX[h],e.orderX[h]=e.orderX[h-1],e.orderX[h-1]=p);for(d=0;d<e.orderY.length-2;d++)for(h=e.orderY.length-1;h>d;h--)e.orderY[h].y>e.orderY[h-1].y&&(p=e.orderY[h],e.orderY[h]=e.orderY[h-1],e.orderY[h-1]=p);var f=function(t){e.listEnemy[t].pointEnemy=new cc.Vec2(e.orderX.findIndex(function(o){return o.x<=e.listEnemy[t].pointEnd.x+5&&o.x>=e.listEnemy[t].pointEnd.x-5}),e.orderY.findIndex(function(o){return o.y<=e.listEnemy[t].pointEnd.y+5&&o.y>=e.listEnemy[t].pointEnd.y-5}))};for(d=0;d<e.listEnemy.length;d++)f(d)}}else o.indexLevel%4==0&&e.indexWare==e.countWare[o.indexLevel-1]?(e.isAttackBoss=!0,e.boss.level=Number((o.indexLevel/10).toString().split(".")[0]),e.boss.hp=e.boss.hpTmp=JSON.parse(n).Hp,u.default.mng.PlaySound(22),l.default.mng.ui.warningBoss.node.active=!0,l.default.mng.ui.warningBoss.play(),e.scheduleOnce(function(){l.default.mng.ui.warningBoss.node.active=!1,e.boss.node.active=!0,u.default.mng.PlayMusic(c.default.Random(6,7))},4)):(e.hpEnemy=JSON.parse(n).Hp,e.countEnemy=0,e.isZen=!0,e.isRealBattle=!0,e.TurnRealBattle(1),e.scheduleOnce(function(){e.isZen=!1,e.unscheduleAllCallbacks(),e.schedule(e.CheckEnd2,.5)},30));0==s.default.mode?e.indexWare++:o.indexLevel++};cc.resources.load("Data/Level"+o.indexLevel+"-"+e.indexWare+" p",function(e,o){t=null!=o?o.text:"",null!=n&&i(t,n)}),cc.resources.load("Data/Level"+o.indexLevel+"-"+e.indexWare,function(e,o){n=null!=o?o.text:"",null!=t&&i(t,n)})},1.88)):1==o.indexLevel&&4==this.indexWare?(l.default.mng.ui.textWare.string="WAVE "+this.indexWare,l.default.mng.ui.textWare.node.active=!0,l.default.mng.ui.textWareAnim.play(),this.isAttackBoss=!0,this.boss=this.boss.getComponent(d.default),this.boss.level=-1,this.boss.hp=this.boss.hpTmp=500,u.default.mng.PlaySound(22),l.default.mng.ui.warningBoss.node.active=!0,l.default.mng.ui.warningBoss.play(),this.scheduleOnce(function(){l.default.mng.ui.warningBoss.node.active=!1,e.boss.node.active=!0,u.default.mng.PlayMusic(c.default.Random(6,7))},4),this.indexWare++):l.default.mng.ui.Victory():1==s.default.mode&&(l.default.mng.ui.textWare.string="WAVE "+this.indexWare,l.default.mng.ui.textWare.node.active=!0,l.default.mng.ui.textWareAnim.play(),this.boss=this.boss.getComponent(d.default),this.isAttackBoss?this.boss.level+=.3:this.isAttackBoss=!0,this.boss.hp=this.boss.hpTmp=100*(this.boss.level+1),this.indexWare++,u.default.mng.PlaySound(22),l.default.mng.ui.warningBoss.node.active=!0,l.default.mng.ui.warningBoss.play(),this.scheduleOnce(function(){l.default.mng.ui.warningBoss.node.active=!1,e.boss.node.active=!0,u.default.mng.PlayMusic(c.default.Random(6,7))},4))},t.prototype.ChangeMoveEnemy=function(){for(var e=c.default.Random(1,7),t=0;t<this.listEnemy.length;t++)this.listEnemy[t].node.activeInHierarchy&&this.listEnemy[t].ChangeMove(e)},t.prototype.RandomItem=function(e){var t=c.default.Random(0,100);this.player.countBullet<3?t<10?l.default.mng.pool.GetItem(e).Init(0):t<14?l.default.mng.pool.GetItem(e).Init(3):l.default.mng.pool.GetGold(e).Init():t<5?l.default.mng.pool.GetItem(e).Init(0):t<7?l.default.mng.pool.GetItem(e).Init(1):t<10?l.default.mng.pool.GetItem(e).Init(2):t<12?l.default.mng.pool.GetItem(e).Init(3):t<14?l.default.mng.pool.GetItem(e).Init(4):t<16?l.default.mng.pool.GetItemChange(e).Init():l.default.mng.pool.GetGold(e).Init()},t.prototype.GetWare=function(){this.scheduleOnce(this.Ware,2)},t.prototype.TurnRealBattle=function(e){var t=this;void 0===e&&(e=0),this.isZen&&this.scheduleOnce(function(){var e;if(0==(e=o.indexLevel>15?c.default.Random(0,8):c.default.Random(0,100)<70?c.default.Random(0,5):c.default.Random(0,8)))for(var n,i=c.default.Random(1,5),a=new Array,r=0;r<i;r++){do{n=c.default.Random(-296,296)}while(a.findIndex(function(e){return Math.abs(n-e)<50})>=0);a[a.length]=n,l.default.mng.pool.GetEnemy2().Init(e,new cc.Vec2(n,839+c.default.Random(0,100)))}else if(1==e){var d=c.default.Random(-296,296);for(r=0;r<5;r++)(u=l.default.mng.pool.GetEnemy2()).node.angle=0,u.Init(e,new cc.Vec2(d,700+80*r))}else if(2==e)for(d=c.default.Random(-200,200),r=0;r<7;r++)(u=l.default.mng.pool.GetEnemy2()).node.angle=0,u.Init(e,new cc.Vec2(d+t.pointEnemyNew[r].x,700+t.pointEnemyNew[r].y));else if(3==e){var s;for(i=c.default.Random(1,5),a=new Array,r=0;r<i;r++){do{s=c.default.Random(-296,296)}while(a.findIndex(function(e){return Math.abs(s-e)<50})>=0);var u;a[a.length]=s,(u=l.default.mng.pool.GetEnemy2()).node.angle=0,u.Init(e,new cc.Vec2(s,839))}}else if(4==e){var p=c.default.Random(0,100)<50,h=c.default.Random(0,100)<50,f=c.default.Random(0,662);for(r=0;r<5;r++)t.scheduleOnce(function(){var t=l.default.mng.pool.GetEnemy2();p?(t.dirMoveSin=1,t.Init(e,new cc.Vec2(-487,f))):(t.dirMoveSin=-1,t.Init(e,new cc.Vec2(487,f))),t=l.default.mng.pool.GetEnemy2(),h?(t.dirMoveSin=1,t.Init(e,new cc.Vec2(-487,f-100))):(t.dirMoveSin=-1,t.Init(e,new cc.Vec2(487,f-100)))},.7*r)}else if(5==e)for(i=c.default.Random(1,2),r=0;r<i;r++)l.default.mng.pool.GetEnemy2().Init(e,new cc.Vec2(c.default.Random(-296,296),633+c.default.Random(0,50)));else if(6==e)for(i=c.default.Random(1,2),r=0;r<i;r++)l.default.mng.pool.GetEnemy2().Init(e,new cc.Vec2(c.default.Random(-296,296),633+c.default.Random(0,50)));else if(7==e){i=c.default.Random(4,6);var y=c.default.Random(7,8),g=c.default.Random(0,o.infoPath.length-1),m=new Array;for(r=0;r<o.infoPath[g].path.length;r++)m[r]=new cc.Vec2(100*o.infoPath[g].path[r].x,100*o.infoPath[g].path[r].y);for(r=0;r<i;r++)t.scheduleOnce(function(){var e=l.default.mng.pool.GetEnemy2();e.InitPath(m,o.infoPath[g].time),e.Init(y)},.3*r)}else if(8==e){var v;for(i=c.default.Random(1,4),a=new Array,r=0;r<i;r++){do{v=c.default.Random(-4,4)}while(a.findIndex(function(e){return e==v})>=0);a[a.length]=v,l.default.mng.pool.GetLineRocket().Init(70*v)}}t.TurnRealBattle(t.indexWare<4?c.default.Random(3.5,5):c.default.Random(2.5,3))},e)},t.prototype.CheckEnd2=function(){this.isZen||this.countEnemy<=0&&(this.unscheduleAllCallbacks(),this.GetWare())},t.indexLevel=1,t.isNoAds=!1,a([y(cc.Node)],t.prototype,"controlPlayer",void 0),a([y(cc.Node)],t.prototype,"objAll",void 0),a([y(cc.Node)],t.prototype,"uiAll",void 0),a([y(r.default)],t.prototype,"player",void 0),a([y(d.default)],t.prototype,"boss",void 0),o=a([f],t)}(cc.Component);o.default=g,cc._RF.pop()},{"../B/Boss":"Boss","../FbSkd/FbSdk":"FbSdk","../H/Home":"Home","../P/Player":"Player","./Mathf":"Mathf","./Mng":"Mng","./MngSound":"MngSound"}],MngMap:[function(e,t,o){"use strict";cc._RF.push(t,"93f6dikIpRGgp+2bsQ/JOHJ","MngMap");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../L/LevelUI"),c=e("../FbSkd/FbSdk"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listLevelUI=new Array,t}var o;return i(t,e),o=t,t.prototype.start=function(){var e=this;null==o.data?cc.resources.load("LevelUI",function(t,n){o.data=n.json,e.Init()}):this.Init()},t.prototype.Init=function(){for(var e=this,t=new Array,n=0;n<50;n++){var i=cc.instantiate(this.levelUIPrefab);i.setParent(this.content);var a=Math.floor(n/11);i.setPosition(o.data[n%11].x*(a%2?-1:1),o.data[n%11].y+2560*a),t.push(cc.v2(o.data[n%11].x*(a%2?-1:1),o.data[n%11].y+2560*a)),this.listLevelUI[n]=i.getComponent(l.default),this.listLevelUI[n].Init(n)}if(o.lvUnLock>5){var r=this.content.parent.convertToWorldSpaceAR(new cc.Vec2(t[o.lvUnLock].x,t[o.lvUnLock].y));this.content.y=-(r.y-cc.director.getWinSize().height/2)}this.scroll.enabled=!0,this.avata.node.parent.parent.parent=null,this.content.addChild(this.avata.node.parent.parent),this.avata.node.parent.parent.setPosition(t[o.lvUnLock].x,t[o.lvUnLock].y+100),this.avata.node.parent.parent.active=!0,""!=c.default.sdk.fbAvatar&&cc.assetManager.loadRemote(c.default.sdk.fbAvatar,function(t,o){e.avata.spriteFrame=new cc.SpriteFrame(o)})},t.lvUnLock=0,a([s(cc.Prefab)],t.prototype,"levelUIPrefab",void 0),a([s(cc.Prefab)],t.prototype,"avataFriendPrefab",void 0),a([s(cc.Node)],t.prototype,"content",void 0),a([s(cc.ScrollView)],t.prototype,"scroll",void 0),a([s(cc.Sprite)],t.prototype,"avata",void 0),o=a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../FbSkd/FbSdk":"FbSdk","../L/LevelUI":"LevelUI"}],MngPool:[function(e,t,o){"use strict";cc._RF.push(t,"f0907j8NOBPBJbk12F26ESC","MngPool");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../B/BulletPlayer"),c=e("../B/BulletEnemy"),r=e("../E/Enemy"),d=e("../E/Effect"),s=e("../I/Item"),u=e("../G/Gold"),p=e("../B/BulletPet"),h=e("../E/Enemy2"),f=e("../R/Rocket"),y=e("../L/LineRocket"),g=e("./Mng"),m=e("../W/WarningEnemy"),v=e("../I/ItemChange"),P=cc._decorator,b=P.ccclass,x=P.property,S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bulletPlayers=new Array,t.bulletEnemys=new Array,t.bulletPets=new Array,t.enemys=new Array,t.enemy2s=new Array,t.exEnemys=new Array,t.items=new Array,t.itemChanges=new Array,t.golds=new Array,t.rockets=new Array,t.lineRockets=new Array,t.warningEnemys=new Array,t.smokes=new Array,t}return i(t,e),t.prototype.GetBulletPlayer=function(e,t){var o=this.bulletPlayers.findIndex(function(e){return!e.node.activeInHierarchy});return o>=0?(this.bulletPlayers[o].node.setPosition(e),this.bulletPlayers[o].node.angle=-t,this.bulletPlayers[o]):this.RequestBulletPlayer(e,t)},t.prototype.RequestBulletPlayer=function(e,t){var o=cc.instantiate(this.bulletPlayerPrefab);o.setPosition(e),o.angle=t,this.bulletParent.addChild(o);var n=o.getComponent(l.default);return this.bulletPlayers[this.bulletPlayers.length]=n,n},t.prototype.GetBulletEnemy=function(e,t){var o=this.bulletEnemys.findIndex(function(e){return!e.node.activeInHierarchy});return o>=0?(this.bulletEnemys[o].node.setPosition(e),this.bulletEnemys[o].node.angle=t,this.bulletEnemys[o]):this.RequestBulletEnemy(e,t)},t.prototype.RequestBulletEnemy=function(e,t){var o=cc.instantiate(this.bulletEnemyPrefab);o.setPosition(e),o.angle=t,this.bulletParent.addChild(o);var n=o.getComponent(c.default);return this.bulletEnemys[this.bulletEnemys.length]=n,n},t.prototype.GetBulletPet=function(e){var t=this.bulletPets.findIndex(function(e){return!e.node.activeInHierarchy});return t>=0?(this.bulletPets[t].node.setPosition(e),this.bulletPets[t]):this.RequestBulletPet(e)},t.prototype.RequestBulletPet=function(e){var t=cc.instantiate(this.bulletPetPrefab);t.setPosition(e),this.bulletParent.addChild(t);var o=t.getComponent(p.default);return this.bulletPets[this.bulletPets.length]=o,o},t.prototype.GetEnemy=function(e){var t=this.enemys.findIndex(function(e){return!e.node.activeInHierarchy});return t>=0?(this.enemys[t].node.setPosition(e),this.enemys[t]):this.RequestEnemy(e)},t.prototype.RequestEnemy=function(e){var t=cc.instantiate(this.enemyPrefab);t.setPosition(e),this.enemyParent.addChild(t);var o=t.getComponent(r.default);return this.enemys[this.enemys.length]=o,o},t.prototype.GetEnemy2=function(){g.default.mng.logic.countEnemy++;var e=this.enemy2s.findIndex(function(e){return!e.node.activeInHierarchy});return e>=0?this.enemy2s[e]:this.RequestEnemy2()},t.prototype.RequestEnemy2=function(){var e=cc.instantiate(this.enemy2Prefab);this.enemyParent.addChild(e);var t=e.getComponent(h.default);return this.enemy2s[this.enemy2s.length]=t,t},t.prototype.GetExEnemy=function(e){var t=this.exEnemys.findIndex(function(e){return!e.node.activeInHierarchy});return t>=0?(this.exEnemys[t].node.setPosition(e),this.exEnemys[t]):this.RequestExEnemy(e)},t.prototype.RequestExEnemy=function(e){var t=cc.instantiate(this.exEnemyPrefab);t.setPosition(e),this.effectParent.addChild(t);var o=t.getComponent(d.default);return this.exEnemys[this.exEnemys.length]=o,o},t.prototype.GetItem=function(e){var t=this.items.findIndex(function(e){return!e.node.activeInHierarchy});return-1==t?this.RequestItem(e):(this.items[t].node.setPosition(e),this.items[t])},t.prototype.RequestItem=function(e){var t=cc.instantiate(this.itemPrefab);this.itemParent.addChild(t),t.setPosition(e);var o=t.getComponent(s.default);return this.items[this.items.length]=o,o},t.prototype.GetItemChange=function(e){var t=this.itemChanges.findIndex(function(e){return!e.node.activeInHierarchy});return-1==t?this.RequestItemChange(e):(this.itemChanges[t].node.setPosition(e),this.itemChanges[t])},t.prototype.RequestItemChange=function(e){var t=cc.instantiate(this.itemChangePrefab);this.itemParent.addChild(t),t.setPosition(e);var o=t.getComponent(v.default);return this.itemChanges[this.itemChanges.length]=o,o},t.prototype.GetGold=function(e){var t=this.golds.findIndex(function(e){return!e.node.activeInHierarchy});return-1==t?this.RequestGold(e):(this.golds[t].node.setPosition(e),this.golds[t])},t.prototype.RequestGold=function(e){var t=cc.instantiate(this.goldPrefab);this.itemParent.addChild(t),t.setPosition(e);var o=t.getComponent(u.default);return this.golds[this.golds.length]=o,o},t.prototype.GetRocket=function(){var e=this.rockets.findIndex(function(e){return!e.node.activeInHierarchy});return-1==e?this.RequestRocket():this.rockets[e]},t.prototype.RequestRocket=function(){var e=cc.instantiate(this.rocketPrefab);this.enemyParent.addChild(e);var t=e.getComponent(f.default);return this.rockets[this.rockets.length]=t,t},t.prototype.GetLineRocket=function(){g.default.mng.logic.countEnemy++;var e=this.lineRockets.findIndex(function(e){return!e.node.activeInHierarchy});return-1==e?this.RequestLineRocket():this.lineRockets[e]},t.prototype.RequestLineRocket=function(){var e=cc.instantiate(this.lineRocketPrefab);this.enemyParent.addChild(e);var t=e.getComponent(y.default);return this.lineRockets[this.lineRockets.length]=t,t},t.prototype.GetWarningEnemy=function(e){var t=this.warningEnemys.findIndex(function(e){return!e.node.activeInHierarchy});return t>=0?(this.warningEnemys[t].node.setPosition(e),this.warningEnemys[t]):this.RequestWarningEnemy(e)},t.prototype.RequestWarningEnemy=function(e){var t=cc.instantiate(this.warningEnemyPrefab);t.setPosition(e),this.enemyParent.addChild(t);var o=t.getComponent(m.default);return this.warningEnemys[this.warningEnemys.length]=o,o},t.prototype.GetSmoke=function(e){var t=this.smokes.findIndex(function(e){return!e.node.activeInHierarchy});return t>=0?(this.smokes[t].node.parent=null,e.addChild(this.smokes[t].node),this.smokes[t]):this.RequestSmoke(e)},t.prototype.RequestSmoke=function(e){var t=cc.instantiate(this.smokePrefab);e.addChild(t);var o=t.getComponent(cc.ParticleSystem);return this.smokes[this.smokes.length]=o,o},a([x(cc.Prefab)],t.prototype,"bulletPlayerPrefab",void 0),a([x(cc.Prefab)],t.prototype,"bulletEnemyPrefab",void 0),a([x(cc.Prefab)],t.prototype,"bulletPetPrefab",void 0),a([x(cc.Prefab)],t.prototype,"enemyPrefab",void 0),a([x(cc.Prefab)],t.prototype,"enemy2Prefab",void 0),a([x(cc.Prefab)],t.prototype,"exEnemyPrefab",void 0),a([x(cc.Prefab)],t.prototype,"smokePrefab",void 0),a([x(cc.Prefab)],t.prototype,"itemPrefab",void 0),a([x(cc.Prefab)],t.prototype,"itemChangePrefab",void 0),a([x(cc.Prefab)],t.prototype,"goldPrefab",void 0),a([x(cc.Prefab)],t.prototype,"rocketPrefab",void 0),a([x(cc.Prefab)],t.prototype,"lineRocketPrefab",void 0),a([x(cc.Prefab)],t.prototype,"warningEnemyPrefab",void 0),a([x(cc.Node)],t.prototype,"bulletParent",void 0),a([x(cc.Node)],t.prototype,"enemyParent",void 0),a([x(cc.Node)],t.prototype,"effectParent",void 0),a([x(cc.Node)],t.prototype,"itemParent",void 0),a([b],t)}(cc.Component);o.default=S,cc._RF.pop()},{"../B/BulletEnemy":"BulletEnemy","../B/BulletPet":"BulletPet","../B/BulletPlayer":"BulletPlayer","../E/Effect":"Effect","../E/Enemy":"Enemy","../E/Enemy2":"Enemy2","../G/Gold":"Gold","../I/Item":"Item","../I/ItemChange":"ItemChange","../L/LineRocket":"LineRocket","../R/Rocket":"Rocket","../W/WarningEnemy":"WarningEnemy","./Mng":"Mng"}],MngSound:[function(e,t,o){"use strict";cc._RF.push(t,"9a2a74S3MdN/JjTk6+OUFja","MngSound");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../P/PlayerPrefs"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipMusic=new Array,t.clip=new Array,t.nameSound=["BGM_MainMenu_00","BGM_GamePlay_01","BGM_GamePlay_02","BGM_GamePlay_03","BGM_GamePlay_04","BGM_GamePlay_05","BGM_Boss_00","BGM_Boss_01"],t}var o;return i(t,e),o=t,t.prototype.onLoad=function(){null==o.mng?(cc.game.addPersistRootNode(this.node),o.mng=this):o.mng!=this&&this.node.destroy()},t.prototype.PlaySound=function(e){if(o.checkSound)return cc.audioEngine.play(this.clip[e],!1,1)},t.prototype.PlayMusic=function(e){l.default.GetBool("Music",!0)&&(null!=o.musicState&&cc.audioEngine.stop(o.musicState),null==o.mng.clipMusic[e]?cc.resources.load("Sound/"+this.nameSound[e],function(t,n){o.mng.clipMusic[e]=n,o.musicState=cc.audioEngine.play(o.mng.clipMusic[e],!0,1)}):o.musicState=cc.audioEngine.play(o.mng.clipMusic[e],!0,1))},t.checkSound=!1,t.checkMusic=!1,a([d(cc.AudioClip)],t.prototype,"clipMusic",void 0),a([d(cc.AudioClip)],t.prototype,"clip",void 0),o=a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../P/PlayerPrefs":"PlayerPrefs"}],MngUI:[function(e,t,o){"use strict";cc._RF.push(t,"ed076rpUeNIU6ii7gQW2R+V","MngUI");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("./Mathf"),c=e("./Mng"),r=e("./MngLogic"),d=e("../L/Loading"),s=e("../P/PlayerPrefs"),u=e("../H/Home"),p=e("./MngSound"),h=e("../FbSkd/FbSdk"),f=e("../W/Win"),y=e("../L/Lose"),g=e("../S/SaveMe"),m=e("../G/Gift"),v=e("../G/GameNetwork"),P=e("./MngMap"),b=cc._decorator,x=b.ccclass,S=b.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPlay=new Array,t.itemCount=new Array,t.itemVideo=new Array,t.scoreVaule=0,t.goldVaule=0,t.isRanking=!1,t}return i(t,e),t.prototype.start=function(){var e=this;0!=u.default.mode&&2!=u.default.mode||p.default.mng.PlayMusic(l.default.Random(1,5)),"IOS"!=h.default.sdk.fbPlatform&&"ANDROID"!=h.default.sdk.fbPlatform&&(this.pauseButton.y=578,this.score.node.x=169),cc.resources.preload("Prefabs/Victory",cc.Prefab),cc.resources.preload("Prefabs/SaveMe",cc.Prefab),cc.resources.preload("Prefabs/Gameover",cc.Prefab),v.default.GetInvite(h.default.sdk.fbId,function(t){-1==s.default.GetNumber("CountInvite",-1)?(s.default.SetNumber("CountInvite",0),e.effGift.node.active=!0,e.effGift.resetSystem()):t.invite>s.default.GetNumber("CountInvite",-1)&&(s.default.SetNumber("CountInvite",t.invite),e.effGift.node.active=!0,e.effGift.resetSystem()),t.invite>=5&&(r.default.isNoAds=!0)});for(var t=0;t<5;t++)s.default.GetBool("GiftItem"+t)&&(this.itemVideo[t].active=!1,this.itemCount[t].active=!0)},t.prototype.SetScore=function(e){this.scoreVaule+=e;for(var t="",o=l.default.Int(this.scoreVaule),n=9-o.toString().length,i=0;i<n;i++)t+="0";t+=o.toString(),this.score.string=t},t.prototype.SetGold=function(e){this.goldVaule+=e,this.gold.string=this.goldVaule.toString().split(".")[0]},t.prototype.Victory=function(){var e=this;p.default.mng.PlaySound(16),c.default.mng.logic.isEndGame||(c.default.mng.logic.isEndGame=!0,this.isWin=!0,cc.tween(c.default.mng.logic.player.node).delay(3).to(2,{y:1e3}).start(),cc.resources.load("Prefabs/Victory",cc.Prefab,function(t,o){var n=cc.instantiate(o);n.setParent(e.uiParent),e.victory=n.getComponent(f.default),e.victory.textTopVictory.string="Level "+r.default.indexLevel,e.victory.scoreVictory.string=e.scoreVaule.toString().split(".")[0],e.victory.goldVictory.string=e.goldVaule.toString().split(".")[0],e.scheduleOnce(function(){c.default.mng.logic.controlPlayer.active=!1},5)}),s.default.SetNumber("Gold",s.default.GetNumber("Gold")+Number(this.goldVaule.toString().split(".")[0])),P.default.lvUnLock<r.default.indexLevel?(P.default.lvUnLock=r.default.indexLevel,this.scheduleOnce(function(){cc.tween(c.default.mng.ui.victory.node).to(1,{scale:1},{easing:"elasticOut"}).start()},5)):this.scheduleOnce(function(){cc.tween(c.default.mng.ui.victory.node).to(1,{scale:1},{easing:"elasticOut"}).start()},5),r.default.isNoAds||this.scheduleOnce(function(){h.default.sdk.ShowInterstitial()},1),h.default.sdk.AddLevel(r.default.indexLevel+1),h.default.sdk.LogEvent("Win Level"+r.default.indexLevel),v.default.AddLeaderboard(h.default.sdk.fbId,{lv:r.default.indexLevel+1}))},t.prototype.SaveMe=function(){var e=this;c.default.mng.logic.isEndGame=!0,null==this.saveMe?cc.resources.load("Prefabs/SaveMe",cc.Prefab,function(t,o){var n=cc.instantiate(o);n.setParent(e.uiParent),e.saveMe=n.getComponent(g.default),e.saveMe.scoreSaveMe.string=e.scoreVaule.toString().split(".")[0],e.saveMe.goldSaveMe.string=e.goldVaule.toString().split(".")[0],cc.tween(e.saveMe.node).to(1,{scale:1},{easing:"elasticOut"}).call(function(){cc.director.pause()}).start()}):c.default.mng.ui.Gameover(),c.default.mng.logic.controlPlayer.active=!1},t.prototype.Replay=function(){p.default.mng.PlaySound(0),cc.director.resume(),2==u.default.mode&&(r.default.indexLevel=1),d.default.Load("Gameplay")},t.prototype.WatchSaveMe=function(e){var t=this;p.default.mng.PlaySound(0),h.default.sdk.ShowVideo(function(){cc.director.resume(),t.saveMe.node.active=!1,c.default.mng.logic.controlPlayer.active=!0,c.default.mng.logic.isEndGame=!1,c.default.mng.logic.player.InitBasic()},e)},t.prototype.NoSaveMe=function(){cc.director.resume(),p.default.mng.PlaySound(0),this.saveMe.node.active=!1,this.Gameover()},t.prototype.Gameover=function(){var e=this;c.default.mng.logic.isEndGame=!0,p.default.mng.PlaySound(15),cc.resources.load("Prefabs/Gameover",cc.Prefab,function(t,o){var n=cc.instantiate(o);n.setParent(e.uiParent),e.gameover=n.getComponent(y.default),e.gameover.scoreGameover.string=e.scoreVaule.toString().split(".")[0],e.gameover.goldGameover.string=e.goldVaule.toString().split(".")[0],cc.tween(e.gameover.node).to(1,{scale:1},{easing:"elasticOut"}).start()}),s.default.SetNumber("Gold",s.default.GetNumber("Gold")+Number(this.goldVaule.toString().split(".")[0])),r.default.isNoAds||this.scheduleOnce(function(){h.default.sdk.ShowAdsGameover()},1),h.default.sdk.LogEvent("Lose Level"+r.default.indexLevel)},t.prototype.NextLevel=function(){p.default.mng.PlaySound(0),cc.director.resume(),d.default.Load("Home")},t.prototype.X2Gold=function(e,t,o){var n=this;p.default.mng.PlaySound(0),h.default.sdk.ShowVideo(function(){1==t?n.gameover.goldGameover.string=(2*n.goldVaule).toString():n.victory.goldVictory.string=(2*n.goldVaule).toString(),s.default.SetNumber("Gold",s.default.GetNumber("Gold")+n.goldVaule)},o)},t.prototype.Pause=function(){p.default.mng.PlaySound(0),this.pause.setContentSize(cc.size(720,1280/(cc.winSize.width/720))),this.pause.active=!0,this.pause.scale=0,cc.tween(this.pause).to(1,{scale:1},{easing:"elasticOut"}).call(function(){cc.director.pause()}).start()},t.prototype.Resume=function(){p.default.mng.PlaySound(0),cc.director.resume(),this.pause.active=!1},t.prototype.Map=function(){p.default.mng.PlaySound(0),cc.director.resume(),d.default.Load("Home")},t.prototype.WatchUseItem=function(e,t){var o=this;s.default.GetBool("GiftItem"+t)?("0"==t?c.default.mng.logic.player.PlayMagnet():"1"==t?c.default.mng.logic.player.PlayUpgrade():"2"==t?c.default.mng.logic.player.PlayShield():"3"==t?c.default.mng.logic.player.PlayHp():"4"==t&&c.default.mng.logic.player.PlayPow(),s.default.SetBool("GiftItem"+t,!1),c.default.mng.ui.itemVideo[Number(t)].active=!0,c.default.mng.ui.itemCount[Number(t)].active=!1):(cc.director.pause(),h.default.sdk.ShowVideo(function(){cc.director.resume(),"0"==t?c.default.mng.logic.player.PlayMagnet():"1"==t?c.default.mng.logic.player.PlayUpgrade():"2"==t?c.default.mng.logic.player.PlayShield():"3"==t?c.default.mng.logic.player.PlayHp():"4"==t&&c.default.mng.logic.player.PlayPow()},function(){cc.director.resume(),o.noAdsAvailable.y=o.itemPlay[Number(t)].y,o.noAdsAvailable.scale=0,cc.tween(o.noAdsAvailable).to(.2,{scale:1}).start(),o.unschedule(o.HideNoAds),o.scheduleOnce(o.HideNoAds,5)}))},t.prototype.HideNoAds=function(){this.noAdsAvailable.scale=0},t.prototype.GiftReward=function(e,t){var o=this;null!=e&&h.default.sdk.LogEvent("Gift"),null==this.gift?cc.resources.load("Prefabs/Gift",cc.Prefab,function(e,t){var n=cc.instantiate(t);n.setParent(o.uiParent),o.gift=n.getComponent(m.default),cc.tween(o.gift.node).to(1,{scale:1},{easing:"elasticOut"}).start()}):(this.gift.node.active=!0,null==e&&(this.gift.node.zIndex=t+1),cc.tween(this.gift.node).to(1,{scale:1},{easing:"elasticOut"}).start())},a([S(cc.Node)],t.prototype,"uiParent",void 0),a([S(cc.Label)],t.prototype,"score",void 0),a([S(cc.Label)],t.prototype,"gold",void 0),a([S(cc.Node)],t.prototype,"pause",void 0),a([S(cc.Label)],t.prototype,"textWare",void 0),a([S(cc.Animation)],t.prototype,"textWareAnim",void 0),a([S(cc.Animation)],t.prototype,"warningBoss",void 0),a([S(cc.Node)],t.prototype,"pauseButton",void 0),a([S(cc.Node)],t.prototype,"noAdsAvailable",void 0),a([S(cc.Prefab)],t.prototype,"ranking",void 0),a([S(cc.ParticleSystem)],t.prototype,"effGift",void 0),a([S(cc.Node)],t.prototype,"itemPlay",void 0),a([S(cc.Node)],t.prototype,"itemCount",void 0),a([S(cc.Node)],t.prototype,"itemVideo",void 0),a([x],t)}(cc.Component);o.default=w,cc._RF.pop()},{"../FbSkd/FbSdk":"FbSdk","../G/GameNetwork":"GameNetwork","../G/Gift":"Gift","../H/Home":"Home","../L/Loading":"Loading","../L/Lose":"Lose","../P/PlayerPrefs":"PlayerPrefs","../S/SaveMe":"SaveMe","../W/Win":"Win","./Mathf":"Mathf","./Mng":"Mng","./MngLogic":"MngLogic","./MngMap":"MngMap","./MngSound":"MngSound"}],Mng:[function(e,t,o){"use strict";cc._RF.push(t,"5db27TbWUBPaoUr8/1MwW4c","Mng");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("./MngLogic"),c=e("./MngData"),r=e("./MngPool"),d=e("./MngUI"),s=cc._decorator,u=s.ccclass,p=s.property,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return i(t,e),o=t,t.prototype.onLoad=function(){o.mng=this,cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},a([p(l.default)],t.prototype,"logic",void 0),a([p(d.default)],t.prototype,"ui",void 0),a([p(r.default)],t.prototype,"pool",void 0),a([p(c.default)],t.prototype,"data",void 0),o=a([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./MngData":"MngData","./MngLogic":"MngLogic","./MngPool":"MngPool","./MngUI":"MngUI"}],PetUI:[function(e,t,o){"use strict";cc._RF.push(t,"e8f06w3EzFPJI/I4oNRPJm8","PetUI");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("./PlayerPrefs"),c=e("../M/MngHero"),r=e("../M/MngSound"),d=cc._decorator,s=d.ccclass,u=d.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=0,t}return i(t,e),t.prototype.onEnable=function(){if(l.default.GetNumber("SelectPetLeft",-1)==this.index||l.default.GetNumber("SelectPetRight",-1)==this.index?(this.iconLeftRight.node.active=!0,l.default.GetNumber("SelectPetLeft",-1)==this.index&&(this.iconLeftRight.spriteFrame=c.default.mng.spLeftRight[0]),l.default.GetNumber("SelectPetRight",-1)==this.index&&(this.iconLeftRight.spriteFrame=c.default.mng.spLeftRight[1])):this.iconLeftRight.node.active&&(this.iconLeftRight.node.active=!1),l.default.GetBool("UnlockPet"+this.index)){var e=l.default.GetNumber("SelectPet"+(c.default.mng.isPetLeft?"Left":"Right"),-1);e>-1?e==this.index&&this.Select():0!=l.default.GetNumber("SelectPet"+(c.default.mng.isPetLeft?"Right":"Left"),-1)&&0==this.index?this.Select():-1==c.default.mng.indexPet&&1!=l.default.GetNumber("SelectPet"+(c.default.mng.isPetLeft?"Right":"Left"),-1)&&1==this.index&&this.Select(),l.default.GetNumber("Gold")>=c.default.dataPet[this.index].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+this.index)]&&(this.warning.node.active=!0,this.warning.play())}else this.bg.color.fromHEX("#8A8A8A"),this.avata.node.color.fromHEX("#8A8A8A"),l.default.GetNumber("Gold")>=c.default.data[this.index].price&&(this.warning.node.active=!0,this.warning.play()),-1==l.default.GetNumber("SelectPet"+(c.default.mng.isPetLeft?"Left":"Right"),-1)&&(0!=l.default.GetNumber("SelectPet"+(c.default.mng.isPetLeft?"Right":"Left"),-1)&&0==this.index?this.Select():-1==c.default.mng.indexPet&&1!=l.default.GetNumber("SelectPet"+(c.default.mng.isPetLeft?"Right":"Left"),-1)&&1==this.index&&this.Select())},t.prototype.Select=function(){r.default.mng.PlaySound(0),c.default.mng.indexPet!=this.index&&(this.select.active=!0,l.default.GetBool("UnlockPet"+this.index)?(c.default.mng.ShowPetUpgrade(this.index,!0),l.default.GetNumber("SelectPet"+(c.default.mng.isPetLeft?"Left":"Right"),-1)==this.index?c.default.mng.tabPet.buttonSelectPet.opacity=150:c.default.mng.tabPet.buttonSelectPet.opacity=255,c.default.mng.tabPet.buttonUpgradePet.active=!0,c.default.mng.tabPet.buttonUnlockPet.active=!1,l.default.GetNumber("Gold")>=c.default.dataPet[this.index].priceUpgrade[l.default.GetNumber("LevelUpgradePet"+this.index)]?c.default.mng.tabPet.buttonUpgradePet.opacity=255:c.default.mng.tabPet.buttonUpgradePet.opacity=150):(c.default.mng.ShowPetUnlock(this.index,!0),c.default.mng.tabPet.buttonSelectPet.opacity=150,c.default.mng.tabPet.buttonUpgradePet.active=!1,c.default.mng.tabPet.buttonUnlockPet.active=!0,l.default.GetNumber("Gold")>=c.default.dataPet[this.index].price?c.default.mng.tabPet.buttonUnlockPet.opacity=255:c.default.mng.tabPet.buttonUnlockPet.opacity=150))},a([u(cc.Node)],t.prototype,"bg",void 0),a([u(cc.Sprite)],t.prototype,"avata",void 0),a([u(cc.Sprite)],t.prototype,"iconLeftRight",void 0),a([u(cc.Animation)],t.prototype,"warning",void 0),a([u(cc.Node)],t.prototype,"select",void 0),a([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../M/MngHero":"MngHero","../M/MngSound":"MngSound","./PlayerPrefs":"PlayerPrefs"}],Pet:[function(e,t,o){"use strict";cc._RF.push(t,"b3a19MPW4VCN6Eub8QmQ/4Y","Pet");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../P/PlayerPrefs"),r=e("../M/Mathf"),d=e("../M/MngHero"),s=cc._decorator,u=s.ccclass,p=s.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isLeft=!0,t.damageUpgrade=0,t.speed=[8,8],t.timeAttack=[.3,.3,.3,4],t.index=-1,t.angle=0,t}return i(t,e),t.prototype.start=function(){this.point=this.isLeft?-120:120},t.prototype.Init=function(){this.index=c.default.GetNumber("SelectPet"+(this.isLeft?"Left":"Right")),this.damageUpgrade=d.default.dataPet[this.index].power[c.default.GetNumber("LevelUpgradePet"+this.index)],this.spr.spriteFrame=l.default.mng.data.pet[this.index],this.node.active=!0,this.unschedule(this.Shoot),this.schedule(this.Shoot,this.timeAttack[this.index])},t.prototype.ChangePet=function(e){void 0===e&&(e=this.index),this.index=e,this.damageUpgrade=d.default.dataPet[this.index].power[c.default.GetNumber("LevelUpgradePet"+this.index)],this.spr.spriteFrame=l.default.mng.data.pet[this.index],this.node.active=!0,this.unschedule(this.Shoot),this.schedule(this.Shoot,this.timeAttack[this.index])},t.prototype.update=function(e){this.node.position=new cc.Vec2(cc.misc.lerp(this.node.x,l.default.mng.logic.player.node.x+this.point,15*e),cc.misc.lerp(this.node.y,l.default.mng.logic.player.node.y-30,15*e))},t.prototype.Shoot=function(){0==this.index?this.Shoot1():1==this.index?this.Shoot2():2==this.index?this.Shoot3():3==this.index&&this.Shoot4()},t.prototype.Shoot1=function(){l.default.mng.pool.GetBulletPet(this.node.position).Shoot(1*this.damageUpgrade+l.default.mng.logic.player.petUpgrade,this.speed[0])},t.prototype.Shoot2=function(){null==this.target&&l.default.mng.logic.boss.node.active&&(this.target=l.default.mng.logic.boss.node),null!=this.target&&this.target.active&&(this.MathfRotation(),l.default.mng.pool.GetBulletPlayer(this.node.position,this.angle).Shoot(10,.6,15,1*this.damageUpgrade+l.default.mng.logic.player.petUpgrade)),this.target=null,this.angle=0,this.col.enabled=!0,this.checkEnemy.play()},t.prototype.Shoot3=function(){l.default.mng.pool.GetBulletPlayer(this.node.position,r.default.Random(-5,5)).Shoot(11,1,10,1*this.damageUpgrade+l.default.mng.logic.player.petUpgrade)},t.prototype.Shoot4=function(){this.laser.active=!0},t.prototype.onCollisionEnter=function(e){null==this.target&&"Enemy"==e.node.group&&(this.target=e.node,this.col.enabled=!1)},t.prototype.MathfRotation=function(){if("Enemy"==this.target.name)this.target.position!=this.node.position&&(this.target.y>this.node.y?this.target.x<this.node.x?this.angle=180*-Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI:this.angle=180*Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI:this.target.x>this.node.x?this.angle=180*-Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI+180:this.angle=180*Math.atan(Math.abs((this.node.x-this.target.x)/(this.node.y-this.target.y)))/Math.PI+180);else{var e=this.target.parent.convertToWorldSpaceAR(this.target.position),t=new cc.Vec2(e.x-l.default.mng.logic.player.halfWidth,e.y-l.default.mng.logic.player.halfHeight);t!=this.node.position&&(t.y>this.node.y?t.x<this.node.x?this.angle=180*-Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI:this.angle=180*Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI:t.x>this.node.x?this.angle=180*-Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI+180:this.angle=180*Math.atan(Math.abs((this.node.x-t.x)/(this.node.y-t.y)))/Math.PI+180)}},a([p],t.prototype,"isLeft",void 0),a([p(cc.Sprite)],t.prototype,"spr",void 0),a([p(cc.Animation)],t.prototype,"checkEnemy",void 0),a([p(cc.Collider)],t.prototype,"col",void 0),a([p(cc.Node)],t.prototype,"laser",void 0),a([u],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng","../M/MngHero":"MngHero","../P/PlayerPrefs":"PlayerPrefs"}],PlayerPrefs:[function(e,t,o){"use strict";cc._RF.push(t,"84631AkRL9OkajwSFgReLBd","PlayerPrefs");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.GetNumber=function(e,t){return void 0===t&&(t=0),null==cc.sys.localStorage.getItem(e+this.idGame)||isNaN(cc.sys.localStorage.getItem(cc.sys.localStorage.getItem(e+this.idGame)))?(cc.sys.localStorage.setItem(e+this.idGame,t),t):Number(cc.sys.localStorage.getItem(e+this.idGame))},t.SetNumber=function(e,t){cc.sys.localStorage.setItem(e+this.idGame,t)},t.GetBool=function(e,t){return void 0===t&&(t=!1),null==cc.sys.localStorage.getItem(e+this.idGame)?(cc.sys.localStorage.setItem(e+this.idGame,t),t):"true"==cc.sys.localStorage.getItem(e+this.idGame)},t.SetBool=function(e,t){cc.sys.localStorage.setItem(e+this.idGame,t)},t.GetString=function(e,t){return void 0===t&&(t=""),null==cc.sys.localStorage.getItem(e+this.idGame)?(cc.sys.localStorage.setItem(e+this.idGame,t),t):cc.sys.localStorage.getItem(e+this.idGame)},t.SetString=function(e,t){cc.sys.localStorage.setItem(e+this.idGame,t)},t.idGame="588206904981553",a([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],PlayerUI:[function(e,t,o){"use strict";cc._RF.push(t,"79b9fqs4H5NCa/ogs9SQS/V","PlayerUI");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("./PlayerPrefs"),c=e("../M/MngHero"),r=e("../M/MngSound"),d=cc._decorator,s=d.ccclass,u=d.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.index=0,t}return i(t,e),t.prototype.onEnable=function(){0==this.index||l.default.GetBool("Unlock"+this.index)?(l.default.GetNumber("SelectPlayer")==this.index&&(this.Select(),this.check.active=!0),l.default.GetNumber("Gold")>=c.default.data[this.index].priceUpgrade[l.default.GetNumber("LevelUpgrade"+this.index)]&&(this.warning.node.active=!0,this.warning.play())):(this.bg.color.fromHEX("#8A8A8A"),this.avata.node.color.fromHEX("#8A8A8A"),l.default.GetNumber("Gold")>=c.default.data[this.index].price&&(this.warning.node.active=!0,this.warning.play()))},t.prototype.Select=function(){r.default.mng.PlaySound(0),c.default.mng.indexPlayer!=this.index&&(this.select.active=!0,0==this.index||l.default.GetBool("Unlock"+this.index)?(c.default.mng.ShowPlayerUpgrade(this.index,!0),l.default.GetNumber("SelectPlayer")==this.index?c.default.mng.tabHero.buttonSelect.opacity=150:c.default.mng.tabHero.buttonSelect.opacity=255,c.default.mng.tabHero.buttonUpgrade.active=!0,c.default.mng.tabHero.buttonUnlock.active=!1,l.default.GetNumber("Gold")>=c.default.data[this.index].priceUpgrade[l.default.GetNumber("LevelUpgrade"+this.index)]?c.default.mng.tabHero.buttonUpgrade.opacity=255:c.default.mng.tabHero.buttonUpgrade.opacity=150):(c.default.mng.ShowPlayerUnlock(this.index,!0),c.default.mng.tabHero.buttonSelect.opacity=150,c.default.mng.tabHero.buttonUpgrade.active=!1,c.default.mng.tabHero.buttonUnlock.active=!0,l.default.GetNumber("Gold")>=c.default.data[this.index].price?c.default.mng.tabHero.buttonUnlock.opacity=255:c.default.mng.tabHero.buttonUnlock.opacity=150))},a([u(cc.Node)],t.prototype,"bg",void 0),a([u(cc.Sprite)],t.prototype,"avata",void 0),a([u(cc.Node)],t.prototype,"select",void 0),a([u(cc.Animation)],t.prototype,"warning",void 0),a([u(cc.Node)],t.prototype,"check",void 0),a([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../M/MngHero":"MngHero","../M/MngSound":"MngSound","./PlayerPrefs":"PlayerPrefs"}],Player:[function(e,t,o){"use strict";cc._RF.push(t,"0f550etSL5LBq0rhDdY8p5j","Player");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../M/Mathf"),r=e("./PlayerPrefs"),d=e("../M/MngHero"),s=e("../M/MngSound"),u=e("./Pet"),p=cc._decorator,h=p.ccclass,f=p.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wingPlayer1=new Array,t.pet=new Array,t.index=0,t.countBullet=1,t.checkPow=!1,t.timeAttack=[.2,.15,.1,.2],t.countBulletTmp=0,t.damageUpgrade=0,t.petUpgrade=0,t.coinUpgrade=0,t.isShield=!1,t.hp=5,t.hpTmp=5,t.isPetLeft=!0,t.scaleControl=1,t}return i(t,e),t.prototype.start=function(){this.InitBasic(),this.InitControl(),this.InitShoot()},t.prototype.InitBasic=function(){this.index=r.default.GetNumber("SelectPlayer"),this.damageUpgrade=d.default.data[this.index].power[r.default.GetNumber("LevelUpgrade"+this.index)],this.coinUpgrade=d.default.data[this.index].coin[r.default.GetNumber("LevelUpgrade"+this.index)],this.petUpgrade=d.default.data[this.index].pet[r.default.GetNumber("LevelUpgrade"+this.index)],this.anim.play("Player"+(this.index+1)),this.hp=this.hpTmp=d.default.data[this.index].hp[r.default.GetNumber("LevelUpgrade"+this.index)],this.hpFill.fillRange=1;for(var e=0;e<this.pet.length;e++)this.pet[e].node.active||(-1==this.pet[e].index&&r.default.GetNumber("SelectPet"+(0==e?"Left":"Right"),-1)>=0?(this.pet[e].Init(),this.isPetLeft=0!=e):this.pet[e].index>-1&&this.pet[e].ChangePet());this.isShield=!0,this.effectShield.node.active=!0,this.effectShield.setAnimation(0,"animation",!0),this.unschedule(this.UnShield),this.scheduleOnce(this.UnShield,5)},t.prototype.ChangeHero=function(e){this.index=e,this.hpTmp=d.default.data[this.index].hp[r.default.GetNumber("LevelUpgrade"+this.index)],this.damageUpgrade=d.default.data[this.index].power[r.default.GetNumber("LevelUpgrade"+this.index)],this.coinUpgrade=d.default.data[this.index].coin[r.default.GetNumber("LevelUpgrade"+this.index)],this.petUpgrade=d.default.data[this.index].pet[r.default.GetNumber("LevelUpgrade"+this.index)],this.anim.play("Player"+(this.index+1)),this.hpFill.fillRange=this.hp/this.hpTmp},t.prototype.InitControl=function(){this.halfWidth=cc.director.getWinSize().width/2,this.halfHeight=cc.director.getWinSize().height/2,this.scaleControl=cc.winSize.width/720,l.default.mng.logic.controlPlayer.on(cc.Node.EventType.TOUCH_START,this.TouchStart,this),l.default.mng.logic.controlPlayer.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove,this)},t.prototype.TouchStart=function(e){this.distancePre=new cc.Vec2((e.getLocation().x-this.halfWidth)/this.scaleControl-this.node.x,(e.getLocation().y-this.halfHeight)/this.scaleControl-this.node.y)},t.prototype.TouchMove=function(e){var t=new cc.Vec2((e.getLocation().x-this.halfWidth)/this.scaleControl-this.distancePre.x,(e.getLocation().y-this.halfHeight)/this.scaleControl-this.distancePre.y);t.x>-this.halfWidth&&t.x<this.halfWidth&&t.y>-this.halfHeight&&t.y<this.halfHeight&&this.node.setPosition(new cc.Vec2((e.getLocation().x-this.halfWidth)/this.scaleControl-this.distancePre.x,(e.getLocation().y-this.halfHeight)/this.scaleControl-this.distancePre.y))},t.prototype.InitShoot=function(){this.unschedule(this.Shoot),this.schedule(this.Shoot,this.timeAttack[this.index])},t.prototype.Shoot=function(){l.default.mng.logic.isEndGame||(0==this.index?this.ShootPlayer1():1==this.index?this.ShootPlayer2():2==this.index?this.ShootPlayer3():3==this.index&&this.ShootPlayer4())},t.prototype.ShootPlayer1=function(){1==this.countBullet?l.default.mng.pool.GetBulletPlayer(this.node.position,0).Shoot(0,.6,15,2*this.damageUpgrade):2==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+15,this.node.y),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-15,this.node.y),0).Shoot(0,.6,15,2*this.damageUpgrade)):3==this.countBullet?(l.default.mng.pool.GetBulletPlayer(this.node.position,0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),0).Shoot(0,.6,15,2*this.damageUpgrade)):4==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+10),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-5).Shoot(0,.6,15,2*this.damageUpgrade)):5==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+15,this.node.y+10),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-15,this.node.y+10),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-5).Shoot(0,.6,15,2*this.damageUpgrade)):6==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+15),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+10),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+10),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-5).Shoot(0,.6,15,2*this.damageUpgrade)):7==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+10,this.node.y+15),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-10,this.node.y+15),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+10),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+10),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-5).Shoot(0,.6,15,2*this.damageUpgrade)):8==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+15),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+10),0).Shoot(1,.6,15,3),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+10),0).Shoot(1,.6,15,3),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-5).Shoot(0,.6,15,2*this.damageUpgrade)):9==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+15,this.node.y+20),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-15,this.node.y+20),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+15),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+10),7).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),9).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+15),-5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+10),-7).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-9).Shoot(0,.6,15,2*this.damageUpgrade)):10==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+25),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+20),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+20),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+15),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+10),7).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),9).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+15),-5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+10),-7).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-9).Shoot(0,.6,15,2*this.damageUpgrade)):11==this.countBullet&&(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+25),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+20),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+20),0).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+15),2.5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+15),5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+10),7).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y),9).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+15),-5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+15),-2.5).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+10),-7).Shoot(0,.6,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y),-9).Shoot(0,.6,15,2*this.damageUpgrade))},t.prototype.ShootPlayer2=function(){1==this.countBullet?l.default.mng.pool.GetBulletPlayer(this.node.position,0).Shoot(2,1.5,10,2*this.damageUpgrade):2==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+8,this.node.y),2).Shoot(2,1.5,10,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-8,this.node.y),-2).Shoot(2,1.5,10,2*this.damageUpgrade)):3==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y-10),0).Shoot(2,1.5,10,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+8,this.node.y),5).Shoot(2,1.5,10,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-8,this.node.y),-5).Shoot(2,1.5,10,2*this.damageUpgrade)):4==this.countBullet?l.default.mng.pool.GetBulletPlayer(this.node.position,0).Shoot(3,2,13,3*this.damageUpgrade):5==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+8,this.node.y),2).Shoot(3,2,13,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-8,this.node.y),-2).Shoot(3,2,13,3*this.damageUpgrade)):6==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y),0).Shoot(2,1.5,10,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+.1,this.node.y),5).Shoot(3,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-.1,this.node.y),-5).Shoot(3,2,15,3*this.damageUpgrade)):7==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y-10),0).Shoot(3,2,13,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+8,this.node.y),5).Shoot(3,2,13,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-8,this.node.y),-5).Shoot(3,2,13,3*this.damageUpgrade)):8==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+8,this.node.y),2).Shoot(4,2.5,13,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-8,this.node.y),-2).Shoot(4,2.5,13,4*this.damageUpgrade)):9==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y),0).Shoot(2,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+8,this.node.y),5).Shoot(4,2.5,12,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-8,this.node.y),-5).Shoot(4,2.5,12,4*this.damageUpgrade)):10==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y),0).Shoot(3,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+.1,this.node.y),-5).Shoot(4,2.5,13,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-.1,this.node.y),5).Shoot(4,2.5,13,4*this.damageUpgrade)):11==this.countBullet&&(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+.1,this.node.y),2.5).Shoot(3,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-.1,this.node.y),-2.5).Shoot(3,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+.1,this.node.y),-7).Shoot(4,2.5,13,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-.1,this.node.y),7).Shoot(4,2.5,13,4*this.damageUpgrade))},t.prototype.ShootPlayer3=function(){1==this.countBullet?l.default.mng.pool.GetBulletPlayer(this.node.position,0).Shoot(5,1.5,15,2*this.damageUpgrade):2==this.countBullet?l.default.mng.pool.GetBulletPlayer(this.node.position,0).Shoot(6,2,18,3*this.damageUpgrade):3==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade)):4==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(6,2,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(6,2,18,3*this.damageUpgrade)):5==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade)):6==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+25),0).Shoot(5,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade)):7==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade)):8==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+25),0).Shoot(5,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+25),0).Shoot(5,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade)):9==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(5,1.5,15,2*this.damageUpgrade)):10==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade)):11==this.countBullet&&(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y+30),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25,this.node.y+25),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55,this.node.y),0).Shoot(6,2,15,3*this.damageUpgrade))},t.prototype.ShootPlayer4=function(){1==this.countBullet?l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade):2==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-25+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+25+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade)):3==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+c.default.Random(-5,5),this.node.y+25),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-40+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+40+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade)):4==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+c.default.Random(-5,5),this.node.y+25),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-40+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+40+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade)):5==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+c.default.Random(-5,5),this.node.y+25),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-40+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+40+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade)):6==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-20+c.default.Random(-5,5),this.node.y+25),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+20+c.default.Random(-5,5),this.node.y+25),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),0).Shoot(7,1,18,3*this.damageUpgrade)):7==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-20+c.default.Random(-5,5),this.node.y+25),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+20+c.default.Random(-5,5),this.node.y+25),0).Shoot(7,1,18,3*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade)):8==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-20+c.default.Random(-5,5),this.node.y+25),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+20+c.default.Random(-5,5),this.node.y+25),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade)):9==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-20+c.default.Random(-5,5),this.node.y+25),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+20+c.default.Random(-5,5),this.node.y+25),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,6*this.damageUpgrade),c.default.Random(0,100)<20&&(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),2).Shoot(9,2,25,6*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),-2).Shoot(9,2,25,6*this.damageUpgrade))):10==this.countBullet?(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-20+c.default.Random(-5,5),this.node.y+55),0).Shoot(8,1,18,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+20+c.default.Random(-5,5),this.node.y+55),0).Shoot(8,1,18,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,4*this.damageUpgrade),c.default.Random(0,100)<20&&(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),2).Shoot(9,3,25,8*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),-2).Shoot(9,3,25,8*this.damageUpgrade))):11==this.countBullet&&(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-20+c.default.Random(-5,5),this.node.y+55),0).Shoot(8,1,18,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+20+c.default.Random(-5,5),this.node.y+55),0).Shoot(8,1,18,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x,this.node.y),0).Shoot(8,1,18,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,4*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),0).Shoot(8,1,18,4*this.damageUpgrade),c.default.Random(0,100)<40&&(l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x-55+c.default.Random(-5,5),this.node.y),2).Shoot(9,3,25,8*this.damageUpgrade),l.default.mng.pool.GetBulletPlayer(new cc.Vec2(this.node.x+55+c.default.Random(-5,5),this.node.y),-2).Shoot(9,3,25,8*this.damageUpgrade)))},t.prototype.Pow=function(){this.checkPow=!1,this.wing.node.active=!1,this.countBullet=Math.min(this.tmpCount+this.countBulletTmp,10),this.InitShoot()},t.prototype.Magnet=function(){this.magnet.node.active=!1},t.prototype.UnShield=function(){s.default.mng.PlaySound(19),this.effectShield.node.active=!1,this.isShield=!1},t.prototype.PlayPow=function(){this.checkPow||(this.tmpCount=this.countBullet),this.checkPow=!0,this.countBulletTmp=0,this.wing.node.active=!0,this.wing.setAnimation(0,"animation",!0),this.countBullet=10,this.InitShoot(),this.unschedule(this.Pow),this.scheduleOnce(this.Pow,10)},t.prototype.PlayMagnet=function(){this.magnet.node.active=!0,this.magnet.play(),this.unschedule(this.Magnet),this.scheduleOnce(this.Magnet,10)},t.prototype.PlayUpgrade=function(){this.checkPow?this.countBulletTmp++:this.countBullet<10&&(this.countBullet++,this.InitShoot())},t.prototype.PlayShield=function(){this.isShield=!0,this.effectShield.node.active=!0,this.effectShield.setAnimation(0,"animation",!0),this.unschedule(this.UnShield),this.scheduleOnce(this.UnShield,10)},t.prototype.PlayHp=function(){this.hp+1>=this.hpTmp?this.hp=this.hpTmp:this.hp+=1,this.hpFill.fillRange=this.hp/this.hpTmp},t.prototype.onCollisionEnter=function(e){if("Enemy"!=e.node.group||l.default.mng.logic.isEndGame)if("BulletEnemy"==e.node.group){var t=l.default.mng.pool.bulletEnemys[l.default.mng.pool.bulletEnemys.findIndex(function(t){return t.node==e.node})];e.node.active=!1,this.GetHit(t.damage)}else"Item"==e.node.group&&(e.node.active=!1,0==e.tag?(s.default.mng.PlaySound(4),this.checkPow?this.countBulletTmp++:this.countBullet<10&&(this.countBullet++,this.InitShoot())):1==e.tag?(s.default.mng.PlaySound(2),this.PlayHp()):2==e.tag?(s.default.mng.PlaySound(2),this.magnet.node.active=!0,this.magnet.play(),this.unschedule(this.Magnet),this.scheduleOnce(this.Magnet,10)):3==e.tag?(s.default.mng.PlaySound(2),this.checkPow||(this.tmpCount=this.countBullet,this.wing.skeletonData=l.default.mng.data.wing[c.default.Random(0,l.default.mng.data.wing.length-1)]),this.checkPow=!0,this.countBulletTmp=0,this.wing.node.active=!0,this.wing.setAnimation(0,"animation",!0),this.countBullet=11,this.InitShoot(),this.unschedule(this.Pow),this.scheduleOnce(this.Pow,7)):4==e.tag?(s.default.mng.PlaySound(18),this.isShield=!0,this.effectShield.node.active=!0,this.effectShield.setAnimation(0,"animation",!0),this.unschedule(this.UnShield),this.scheduleOnce(this.UnShield,5)):5==e.tag?(s.default.mng.PlaySound(1),l.default.mng.ui.SetGold(this.coinUpgrade)):e.tag>5&&e.tag<=9?(s.default.mng.PlaySound(4),this.ChangeHero(Number(e.tag)-6),this.InitShoot()):e.tag>=10&&e.tag<=13&&(s.default.mng.PlaySound(4),this.isPetLeft?this.pet[0].ChangePet(Number(e.tag)-10):this.pet[1].ChangePet(Number(e.tag)-10),this.isPetLeft=!this.isPetLeft));else l.default.mng.pool.GetExEnemy(e.node.position).Play(),this.GetHit(.5),s.default.mng.PlaySound(5),l.default.mng.logic.countEnemy--,e.node.active=!1,l.default.mng.logic.isRealBattle||l.default.mng.logic.countEnemy<=0&&l.default.mng.logic.GetWare()},t.prototype.GetHit=function(e){if(!this.effectShield.node.active&&!l.default.mng.ui.isWin&&!l.default.mng.logic.isEndGame&&(0==this.index||2==this.index?s.default.mng.PlaySound(23):s.default.mng.PlaySound(24),this.schedule(this.OpacityPlayer,.3),this.scheduleOnce(this.UnOpacityPlayer,2),this.hp-=e,this.hpFill.fillRange=this.hp/this.hpTmp,this.hp<=0)){s.default.mng.PlaySound(17);for(var t=0;t<this.pet.length;t++)this.pet[t].node.active&&(this.pet[t].node.active=!1);l.default.mng.ui.SaveMe()}},t.prototype.OpacityPlayer=function(){if(this.checkOpacity){if(this.body.opacity=255,0==this.index)for(e=0;e<2;e++)this.wingPlayer1[e].opacity=255}else if(this.body.opacity=150,0==this.index)for(var e=0;e<2;e++)this.wingPlayer1[e].opacity=150;this.checkOpacity=!this.checkOpacity},t.prototype.UnOpacityPlayer=function(){if(this.unschedule(this.OpacityPlayer),this.body.opacity=255,0==this.index)for(var e=0;e<2;e++)this.wingPlayer1[e].opacity=255},a([f(cc.Node)],t.prototype,"body",void 0),a([f(cc.Node)],t.prototype,"wingPlayer1",void 0),a([f(cc.Animation)],t.prototype,"anim",void 0),a([f(sp.Skeleton)],t.prototype,"wing",void 0),a([f(cc.Animation)],t.prototype,"magnet",void 0),a([f(sp.Skeleton)],t.prototype,"effectShield",void 0),a([f(cc.Sprite)],t.prototype,"hpFill",void 0),a([f(u.default)],t.prototype,"pet",void 0),a([h],t)}(cc.Component);o.default=y,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng","../M/MngHero":"MngHero","../M/MngSound":"MngSound","./Pet":"Pet","./PlayerPrefs":"PlayerPrefs"}],PleaseWait:[function(e,t,o){"use strict";cc._RF.push(t,"62cc2HXeS1Gg5KxrT2p4hpE","PleaseWait");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=l.property,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return i(t,e),o=t,t.prototype.onLoad=function(){o.ins=this,this.node.active=!1},t.prototype.Preload=function(e,t){var o=this;this.node.active=!0,cc.resources.preload(e,cc.Prefab,function(e,t){var n=e/t;o.text.string=Math.round(100*n)+"%",o.fill.fillRange=n},function(){o.node.active=!1,cc.resources.load(e,cc.Prefab,t)})},a([r(cc.Label)],t.prototype,"text",void 0),a([r(cc.Sprite)],t.prototype,"fill",void 0),o=a([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],Ranking:[function(e,t,o){"use strict";cc._RF.push(t,"033e8RlpmpKUblFBAdeSF/1","Ranking");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../G/GameNetwork"),c=e("../M/Mng"),r=e("./EleRank"),d=cc._decorator,s=d.ccclass,u=d.property,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){this.node.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.Init=function(){var e=this;l.default.GetRanking(function(t){for(var o=-45.5,n=0;n<t.length;n++){var i=cc.instantiate(e.eleRank);i.getComponent(r.default).Init(n+1+".",t[n].avata,t[n].name,(t[n].lv+1).toString(),t[n].score.toString().split(".")[0]),i.setParent(e.scroll.content),i.y=o,o-=79.5}e.scroll.content.setContentSize(220,-o)})},t.prototype.Exit=function(){this.node.active=!1,null!=c.default.mng.ui.victory?cc.tween(c.default.mng.ui.victory.node).to(1,{scale:1},{easing:"elasticOut"}).start():null!=c.default.mng.ui.gameover&&cc.tween(c.default.mng.ui.gameover.node).to(1,{scale:1},{easing:"elasticOut"}).start()},a([u(cc.Prefab)],t.prototype,"eleRank",void 0),a([u(cc.ScrollView)],t.prototype,"scroll",void 0),a([s],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../G/GameNetwork":"GameNetwork","../M/Mng":"Mng","./EleRank":"EleRank"}],Rocket:[function(e,t,o){"use strict";cc._RF.push(t,"2e9a5uu7uVIQLRw7Jj27Hnm","Rocket");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=e("../M/Mathf"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Init=function(e){this.node.active=!0,this.node.setPosition(e,824),this.spr.spriteFrame=l.default.mng.data.spRocket[c.default.Random(0,1)]},t.prototype.update=function(){this.node.y=this.node.y-20},t.prototype.onCollisionExit=function(e){"Bottom"==e.node.group&&(this.node.active=!1)},t.prototype.onDisable=function(){l.default.mng.logic.countEnemy--},a([s(cc.Sprite)],t.prototype,"spr",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../M/Mathf":"Mathf","../M/Mng":"Mng"}],SaveMe:[function(e,t,o){"use strict";cc._RF.push(t,"0ca62u7KfhCLa1q/xobvFX3","SaveMe");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/Mng"),c=cc._decorator,r=c.ccclass,d=c.property,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.node.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.WatchSaveMe=function(){var e=this;l.default.mng.ui.WatchSaveMe(function(){cc.director.resume(),e.noAdsAvailable.active=!0})},t.prototype.NoSaveMe=function(){l.default.mng.ui.NoSaveMe()},a([d(cc.Label)],t.prototype,"scoreSaveMe",void 0),a([d(cc.Label)],t.prototype,"goldSaveMe",void 0),a([d(cc.Node)],t.prototype,"noAdsAvailable",void 0),a([r],t)}(cc.Component);o.default=s,cc._RF.pop()},{"../M/Mng":"Mng"}],TAAPAnalytic:[function(e,t,o){"use strict";cc._RF.push(t,"cebb0uudf5ENrXuR/lULMNp","TAAPAnalytic"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function e(){return e.instance||(e.instance=this),e.instance}return e.getInstance=function(){return new e},e.init=function(e){var t=e||{apiKey:"$2b$10$LqnQsgg52/R2bfHQsI2CI.gbvMLt8s2PwbP8pmlls/8dT1HWfSB9O",authDomain:"https://imess.top/services",projectId:"fbid"};this.getInstance().config=t,axios.post("/players/login",{apiKey:t.apiKey,projectId:t.projectId,id:FBInstant.player.getID(),name:FBInstant.player.getName(),platform:FBInstant.getPlatform(),locale:FBInstant.getLocale()},{baseURL:t.authDomain}).then(function(e){var t=e.data;axios.defaults.headers.common.Authorization="Bear "+t}).catch(function(e){console.error(e)})},e.analyticLog=function(e,t){var o=this.getInstance().config.authDomain;axios.post("/analytics/log",{event:e,value:t},{baseURL:o})},e}();o.default=n,cc._RF.pop()},{}],TabHero:[function(e,t,o){"use strict";cc._RF.push(t,"117f3S77L1H0bvzTNf/6WP8","TabHero");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/MngHero"),c=e("../P/PlayerUI"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.powerUpgradeFill=new Array,t.coinUpgradeFill=new Array,t.powerPetUpgradeFill=new Array,t.speedBulletUpgradeFill=new Array,t.playerUI=new Array,t}return i(t,e),t.prototype.onLoad=function(){this.playerUI=this.node.getComponentsInChildren(c.default);for(var e=0;e<4;e++)this.playerUI[e].index=e,this.playerUI[e].node.active=!0;this.splash.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.onEnable=function(){this.noAdsAvailable.scale=0,cc.tween(this.node).to(1,{scale:cc.winSize.width/720},{easing:"elasticOut"}).start()},t.prototype.ExitTabHero=function(){this.node.active=!1},t.prototype.Upgrade=function(){l.default.mng.Upgrade()},t.prototype.Unlock=function(){l.default.mng.Unlock()},t.prototype.Select=function(){l.default.mng.Select()},t.prototype.GetGoldAds=function(e,t){var o=this;l.default.mng.GetGoldAds(e,t,function(){o.noAdsAvailable.scale=0,cc.tween(o.noAdsAvailable).to(.2,{scale:1}).start(),o.scheduleOnce(function(){o.noAdsAvailable.scale=0},5)})},a([s(cc.Sprite)],t.prototype,"avataTabHero",void 0),a([s(cc.Node)],t.prototype,"splash",void 0),a([s(cc.Label)],t.prototype,"nickname",void 0),a([s(cc.RichText)],t.prototype,"levelUpgrade",void 0),a([s(cc.Label)],t.prototype,"powerUpgrade",void 0),a([s(cc.Label)],t.prototype,"coinUpgrade",void 0),a([s(cc.Label)],t.prototype,"powerPetUpgrade",void 0),a([s(cc.Label)],t.prototype,"sppedBulletUpgrade",void 0),a([s(cc.Node)],t.prototype,"buttonSelect",void 0),a([s(cc.Node)],t.prototype,"buttonUpgrade",void 0),a([s(cc.Node)],t.prototype,"buttonUnlock",void 0),a([s(cc.Label)],t.prototype,"priceUpgrade",void 0),a([s(cc.Node)],t.prototype,"noAdsAvailable",void 0),a([s(cc.Sprite)],t.prototype,"powerUpgradeFill",void 0),a([s(cc.Sprite)],t.prototype,"coinUpgradeFill",void 0),a([s(cc.Sprite)],t.prototype,"powerPetUpgradeFill",void 0),a([s(cc.Sprite)],t.prototype,"speedBulletUpgradeFill",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../M/MngHero":"MngHero","../P/PlayerUI":"PlayerUI"}],TabPet:[function(e,t,o){"use strict";cc._RF.push(t,"75516rKI91EzbgJvv5uzXtX","TabPet");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../M/MngHero"),c=e("../P/PetUI"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.powerUpgradeFillPet=new Array,t.levelUpgradeFillPet=new Array,t.petUI=new Array,t}return i(t,e),t.prototype.GetGoldAds=function(e,t){var o=this;l.default.mng.GetGoldAds(e,t,function(){o.noAdsAvailable.scale=0,cc.tween(o.noAdsAvailable).to(.2,{scale:1}).start(),o.scheduleOnce(function(){o.noAdsAvailable.scale=0},5)})},t.prototype.UpgradePet=function(){l.default.mng.UpgradePet()},t.prototype.UnlockPet=function(){l.default.mng.UnlockPet()},t.prototype.SelectPet=function(){l.default.mng.SelectPet()},t.prototype.onLoad=function(){this.petUI=this.node.getComponentsInChildren(c.default);for(var e=0;e<this.petUI.length;e++)this.petUI[e].index=e,this.petUI[e].node.active=!0;this.splash.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.onEnable=function(){this.noAdsAvailable.scale=0,cc.tween(this.node).to(1,{scale:cc.winSize.width/720},{easing:"elasticOut"}).start()},t.prototype.ExitTabPet=function(){l.default.mng.ExitTabPet()},a([s(cc.Sprite)],t.prototype,"avataTabPet",void 0),a([s(cc.Node)],t.prototype,"splash",void 0),a([s(cc.Label)],t.prototype,"nicknamePet",void 0),a([s(cc.Label)],t.prototype,"powerUpgradePet",void 0),a([s(cc.Label)],t.prototype,"levelUpgradePet",void 0),a([s(cc.Node)],t.prototype,"buttonSelectPet",void 0),a([s(cc.Node)],t.prototype,"buttonUpgradePet",void 0),a([s(cc.Node)],t.prototype,"buttonUnlockPet",void 0),a([s(cc.Label)],t.prototype,"priceUpgradePet",void 0),a([s(cc.Label)],t.prototype,"typePet",void 0),a([s(cc.Node)],t.prototype,"noAdsAvailable",void 0),a([s(cc.Sprite)],t.prototype,"powerUpgradeFillPet",void 0),a([s(cc.Sprite)],t.prototype,"levelUpgradeFillPet",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../M/MngHero":"MngHero","../P/PetUI":"PetUI"}],WarningEnemy:[function(e,t,o){"use strict";cc._RF.push(t,"61d25kqEYdO/6ZtNO9rtw6V","WarningEnemy");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=cc._decorator,c=l.ccclass,r=l.property,d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.Init=function(e){this.target=e,this.node.active=!0,this.anim.play()},t.prototype.update=function(){this.node.y=this.target.y},a([r(cc.Animation)],t.prototype,"anim",void 0),a([c],t)}(cc.Component);o.default=d,cc._RF.pop()},{}],Win:[function(e,t,o){"use strict";cc._RF.push(t,"e0cc47VQ1tK4of2weC65+KR","Win");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,l=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(l=(a<3?i(l):a>3?i(t,o,l):i(t,o))||l);return a>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var l=e("../FbSkd/FbSdk"),c=e("../M/Mng"),r=cc._decorator,d=r.ccclass,s=r.property,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){this.node.setContentSize(cc.size(720,1280/(cc.winSize.width/720)))},t.prototype.NextLevel=function(){c.default.mng.ui.NextLevel()},t.prototype.X2Gold=function(e,t){var o=this;c.default.mng.ui.X2Gold(e,t,function(){o.noAdsAvailable.scale=0,cc.tween(o.noAdsAvailable).to(.2,{scale:1}).start(),o.scheduleOnce(function(){o.noAdsAvailable.scale=0},5)})},t.prototype.Replay=function(){c.default.mng.ui.Replay()},t.prototype.NoAds=function(){l.default.sdk.LogEvent("NoAdsWin"),c.default.mng.ui.GiftReward(null,this.node.zIndex)},a([s(cc.Label)],t.prototype,"textTopVictory",void 0),a([s(cc.Label)],t.prototype,"scoreVictory",void 0),a([s(cc.Label)],t.prototype,"goldVictory",void 0),a([s(cc.Node)],t.prototype,"noAdsAvailable",void 0),a([d],t)}(cc.Component);o.default=u,cc._RF.pop()},{"../FbSkd/FbSdk":"FbSdk","../M/Mng":"Mng"}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"a0713YBjHdKqLWTNE9myf3A","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Banner","AvataFriend","Additional","Background","Boss","BulletEnemy","BulletPet","BulletPlayer","CollisionEnemy","Effect","ElementLeader","Enemy","Enemy2","FbSdk","GameNetwork","Gift","Gold","Home","Item","ItemChange","LaserPet","LevelUI","LineRocket","Loading","Lose","Mathf","Mng","MngData","MngHero","MngLogic","MngMap","MngPool","MngSound","MngUI","Pet","PetUI","Player","PlayerPrefs","PlayerUI","PleaseWait","Rocket","EleRank","Ranking","SaveMe","TAAPAnalytic","TabHero","TabPet","WarningEnemy","Win","use_v2.1-2.2.1_cc.Toggle_event"]);